{"ast":null,"code":"var _jsxFileName = \"/home/dorken/development/shopping-app/shopping-front/src/components/Account.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useNavigate } from 'react';\nimport { useForm } from 'react-hook-form';\nimport Order from './Order';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Account(_ref) {\n  _s();\n\n  let {\n    loggedIn,\n    fetchOrders,\n    triggered,\n    orders,\n    user,\n    editUser,\n    message\n  } = _ref;\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const navigate = useNavigate();\n  useEffect(() => {\n    console.log('trigger');\n    fetchOrders();\n  }, [orders, triggered]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid flex-column align-items-center justify-content-center col-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-10 \",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"flex row\",\n            onSubmit: handleSubmit(data => {\n              editUser(data.email, data.password, data.edit_password, data.edit_password_confirmation, data.manager); // console.log(data)\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                border: '1px solid grey'\n              },\n              children: \"For safety reasons, updating your manager status, required password replacement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 13\n            }, this), message ? /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"row-4 error\",\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 28,\n              columnNumber: 24\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \" Current password :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('password')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"edit_password\",\n              children: \" New password :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('edit_password')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"edit_password_confirmation\",\n              children: \"New password confirmation :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('edit_password_confirmation')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"manager\",\n              children: \"Manager :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('manager'),\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              className: \"btn btn-primary btnlogg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ordercont\",\n            children: orders.length > 0 ? orders.map((data, index) => {\n              return /*#__PURE__*/_jsxDEV(Order, {\n                data: data\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 68\n              }, this);\n            }) : \"You never passed any order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(Account, \"5INujmydrSaL3HiowatHb6r+uPE=\", false, function () {\n  return [useForm, useNavigate];\n});\n\n_c = Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"names":["React","useEffect","useNavigate","useForm","Order","Account","loggedIn","fetchOrders","triggered","orders","user","editUser","message","register","handleSubmit","navigate","console","log","data","email","password","edit_password","edit_password_confirmation","manager","border","length","map","index"],"sources":["/home/dorken/development/shopping-app/shopping-front/src/components/Account.js"],"sourcesContent":["import React, {useEffect, useNavigate} from 'react';\nimport { useForm } from 'react-hook-form';\nimport Order from './Order';\n\n\nexport default function Account({loggedIn, fetchOrders, triggered, orders, user, editUser, message}) {\n\n  const { register, handleSubmit } = useForm()\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    console.log('trigger')\n    fetchOrders()\n  }, [orders, triggered])\n\n\n  return (\n    <>\n    <div className='container'>\n      <div className=\"container-fluid flex-column align-items-center justify-content-center col-6\" >\n        <div className=\"col-10 \">\n          <form className='flex row' onSubmit={handleSubmit(data => {\n            editUser(data.email, data.password, data.edit_password, data.edit_password_confirmation, data.manager)\n          // console.log(data)\n          })}>\n            <h2>Account</h2>\n            <h5 style={{border: '1px solid grey'}}>For safety reasons, updating your manager status, required password replacement</h5>\n            {message ? <h3 className='row-4 error'>{message}</h3> : null }\n            <label><strong>{user.email}</strong></label>\n            <label htmlFor='password'> Current password :</label>\n            <input {...register('password')} />\n            <label htmlFor='edit_password'> New password :</label>\n            <input {...register('edit_password')} />\n            <label htmlFor='edit_password_confirmation'>New password confirmation :</label>\n            <input {...register('edit_password_confirmation')} />\n            \n            <label htmlFor='manager'>Manager :</label>\n            <input {...register('manager')} type='checkbox' />\n\n            <input type=\"submit\" className='btn btn-primary btnlogg' />\n            \n          </form>\n          <div className='ordercont'>\n          {orders.length > 0 ? orders.map((data, index)=> { return <Order key={index} data={data} />}) : \"You never passed any order\"}\n          </div>\n        </div> \n      </div>\n    </div>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}