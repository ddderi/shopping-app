{"ast":null,"code":"var _jsxFileName = \"/home/dorken/development/shopping-app/front/src/components/Auth/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom';\nimport { loggingUser } from '../../requests/RequestUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(_ref) {\n  _s();\n\n  let {\n    setUser,\n    setLoggedIn,\n    setMessage,\n    message\n  } = _ref;\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n  const navigate = useNavigate();\n\n  const sendNewUser = async user => {\n    try {\n      if (user) {\n        const addUser = await loggingUser(user.email, user.password);\n\n        if (addUser.status === 'created') {\n          setLoggedIn(true);\n          setMessage(addUser.message);\n          setUser(addUser.user);\n          setTimeout(() => {\n            navigate(\"/\");\n          }, 2000);\n          return addUser;\n        } else if (addUser.status === 'unconnected') {\n          setMessage(addUser.message);\n          return addUser;\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container contrelog\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-md-column align-items-center justify-content-center container-fluid login col-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"row-4\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this), message ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"row-4 error\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 18\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"container flex-md-row align-items-center justify-content-center\",\n        onSubmit: handleSubmit(data => {\n          sendNewUser(data);\n          reset();\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"validationCustom01\",\n            className: \"form-label\",\n            children: \"Email :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('email', {\n              required: true\n            }),\n            placeholder: \"email\",\n            type: \"email\",\n            className: \"form-control\",\n            id: \"validationCustom01\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"validationCustom02\",\n            className: \"form-label\",\n            children: \"Password :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('password'),\n            type: \"password\",\n            placeholder: \"password\",\n            className: \"form-control\",\n            id: \"validationCustom02\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btnlogg\",\n          children: \"Log-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Login, \"nfx6yVnQWSOjJGIpRopjCs4mSp4=\", false, function () {\n  return [useForm, useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useForm","useNavigate","loggingUser","Login","setUser","setLoggedIn","setMessage","message","register","handleSubmit","reset","navigate","sendNewUser","user","addUser","email","password","status","setTimeout","error","console","log","data","required"],"sources":["/home/dorken/development/shopping-app/front/src/components/Auth/Login.js"],"sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom';\nimport { loggingUser } from '../../requests/RequestUser'\n\n\nexport default function Login({setUser, setLoggedIn, setMessage, message}) {\n\nconst { register, handleSubmit, reset } = useForm()\nconst navigate = useNavigate();\n\nconst sendNewUser = async (user) => {\n  try{\n      if(user){\n          const addUser = await loggingUser(user.email, user.password);\n         \n       if(addUser.status === 'created'){\n          setLoggedIn(true)\n          setMessage(addUser.message)\n          setUser(addUser.user)\n          setTimeout(() => {navigate(\"/\")}, 2000)\n          return addUser\n       }else if(addUser.status === 'unconnected'){\n          setMessage(addUser.message)\n          return addUser\n       }\n}}catch(error){\n    console.log(error)\n  }\n}\n\n\n\n  return (\n  <div className='container contrelog'>\n    <div  className='d-flex flex-md-column align-items-center justify-content-center container-fluid login col-4'>\n      <h1 className='row-4'>Login</h1>\n      {message ? <h3 className='row-4 error'>{message}</h3> : null }\n      <form className='container flex-md-row align-items-center justify-content-center' onSubmit={handleSubmit((data) =>{\n      sendNewUser(data)\n      reset()\n      })}>\n      <div className=\"row-4\">\n    <label htmlFor='validationCustom01' className=\"form-label\">Email :</label>\n    <input {...register('email', {required: true})} placeholder='email' type=\"email\" className=\"form-control\" id=\"validationCustom01\" required/>\n  </div>\n  <div className=\"row-4\">\n    <label htmlFor=\"validationCustom02\" className=\"form-label\">Password :</label>\n    <input {...register('password')} type=\"password\" placeholder='password' className=\"form-control\" id=\"validationCustom02\" required/>\n  </div>\n  <button type='submit' className='btn btn-primary btnlogg'>Log-in</button>\n  </form>\n    </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}