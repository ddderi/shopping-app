{"ast":null,"code":"var _jsxFileName = \"/home/dorken/development/shopping-app/shopping-front/src/components/CartProduct.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { editOrderitem } from '../requests/ApiRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CartProduct(_ref) {\n  _s();\n\n  var _this = this;\n\n  let {\n    productName,\n    setTriggered,\n    removeFromCart,\n    data,\n    shops\n  } = _ref;\n  return function (productName) {\n    const {\n      register,\n      handleSubmit\n    } = useForm();\n\n    function productName(id) {\n      if (shops.length > 0) {\n        return shops.find(element => element.id === id).name;\n      } else {\n        return 'Loading...';\n      }\n    }\n\n    function productDescription(id) {\n      if (shops.length > 0) {\n        return shops.find(element => element.id === id).description;\n      } else {\n        return 'Loading...';\n      }\n    }\n\n    const editQuantityItem = async (quantity, id) => {\n      try {\n        const editItem = await editOrderitem(quantity, id);\n        setTriggered(false);\n        return editItem;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containercart\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftcart\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cartproduct\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Product \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 39\n          }, _this), \" : \", productName(data.product_id)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cartproduct\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 39\n          }, _this), \" : \", productDescription(data.product_id)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightcart \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cartproduct\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Unit price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 39\n          }, _this), \" : \", data.unit_price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cartproduct\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 39\n          }, _this), \" : \", data.quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", { ...register('quantity'),\n            type: \"number\",\n            step: 1,\n            min: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 9\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cartproduct\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 39\n          }, _this), \" : $\", data.total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btnedit\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit(props => {\n              console.log(props.quantity);\n              editQuantityItem(props.quantity, data.id);\n            }),\n            className: \"btn btn-secondary btnediteach\",\n            children: \"edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              removeFromCart(data.id);\n            },\n            className: \"btn btn-secondary btnediteach\",\n            children: \"remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 9\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, _this);\n  }(productName);\n}\n\n_s(CartProduct, \"3vcgH/W4WupDHYpofHwUFlMpHeQ=\", false, function () {\n  return [useForm];\n});\n\n_c = CartProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProduct\");","map":{"version":3,"names":["React","useForm","editOrderitem","CartProduct","productName","setTriggered","removeFromCart","data","shops","register","handleSubmit","id","length","find","element","name","productDescription","description","editQuantityItem","quantity","editItem","error","console","log","product_id","unit_price","total","props"],"sources":["/home/dorken/development/shopping-app/shopping-front/src/components/CartProduct.js"],"sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { editOrderitem } from '../requests/ApiRequest';\n\n\nexport default function CartProduct({productName, setTriggered, removeFromCart, data, shops}) {\n\nconst { register, handleSubmit} = useForm()\n\n\nfunction productName(id){\n  if(shops.length>0){\n  return (shops.find(element => element.id === id )).name\n  }else{\n    return 'Loading...'\n  }\n}\n\nfunction productDescription(id){\n  if(shops.length>0){\n  return (shops.find(element => element.id === id )).description\n  }else{\n    return 'Loading...'\n  }\n}\n\nconst editQuantityItem = async(quantity, id) => {\n  try{\n    const editItem = await editOrderitem(quantity, id)\n    setTriggered(false)\n    return editItem\n  }catch(error){\n    console.log(error)\n  }\n}\n\n\n  return (\n    <div className=\"containercart\">\n      <div className=\"leftcart\">\n        <span className=\"cartproduct\"><strong>Product </strong> : {productName(data.product_id)}</span>\n        <span className=\"cartproduct\"><strong>Description</strong> : {productDescription(data.product_id)}</span>\n      </div>\n      <div className=\"rightcart \">\n        <span className=\"cartproduct\"><strong>Unit price</strong> : {data.unit_price}</span>\n        <span className=\"cartproduct\"><strong>Quantity</strong> : {data.quantity}</span>\n        <form>\n        <input {...register('quantity')} type='number' step={1} min={0}  />\n        </form>\n        <span className=\"cartproduct\"><strong>Total</strong> : ${data.total}</span>\n        <div className='btnedit'>\n        <button onClick={handleSubmit((props) => {\n          console.log(props.quantity)\n          editQuantityItem(props.quantity, data.id)\n        }) } className='btn btn-secondary btnediteach'>edit</button>\n        <button onClick={() => {removeFromCart(data.id)}} className='btn btn-secondary btnediteach'>remove</button>\n        </div>\n      </div>\n     \n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}