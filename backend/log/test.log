  [1m[35m (46.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "shopping_api_test"[0m
  [1m[35m (168.5ms)[0m  [1m[35mCREATE DATABASE "shopping_api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "city" character varying, "state" character varying, "zipcode" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint, "street_address_1" character varying, "street_address_2" character varying)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_carts_on_user_id" ON "carts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "order_items" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "quantity" integer, "product_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "cart_id" bigint NOT NULL, "total" integer, "unit_price" integer)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_cart_id" ON "order_items" ("cart_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_product_id" ON "order_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "total" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "description" character varying, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "uid" character varying, "provider" character varying, "manager" boolean DEFAULT FALSE)[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "carts" ADD CONSTRAINT "fk_rails_ea59a35211"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "order_items" ADD CONSTRAINT "fk_rails_59f7f23852"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "order_items" ADD CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220920023750)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220907061732),
(20220909035005),
(20220909051749),
(20220909052612),
(20220909052820),
(20220909055830),
(20220914042532),
(20220914042709),
(20220917020123),
(20220919212155),
(20220919212344);

[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2022-09-30 22:20:24.099965"], ["updated_at", "2022-09-30 22:20:24.099965"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "ef7a79851fdd71fb92d835e70d4376c77e7bdf13"], ["created_at", "2022-09-30 22:20:24.104934"], ["updated_at", "2022-09-30 22:20:24.104934"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:10:31.802732', '2022-10-01 06:10:31.802732', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:10:31.802732', '2022-10-01 06:10:31.802732', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.813711', '2022-10-01 06:10:31.813711', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.813711', '2022-10-01 06:10:31.813711', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:10:31.816203', '2022-10-01 06:10:31.816203', DEFAULT), (298486374, '2022-10-01 06:10:31.816203', '2022-10-01 06:10:31.816203', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.817899', '2022-10-01 06:10:31.817899', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.817899', '2022-10-01 06:10:31.817899', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:10:31.820260', '2022-10-01 06:10:31.820260', DEFAULT), (298486374, 9.99, '2022-10-01 06:10:31.820260', '2022-10-01 06:10:31.820260', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:10:31.901066', '2022-10-01 06:10:31.901066', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:10:31.901066', '2022-10-01 06:10:31.901066', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.901181', '2022-10-01 06:10:31.901181', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.901181', '2022-10-01 06:10:31.901181', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:10:31.901227', '2022-10-01 06:10:31.901227', DEFAULT), (298486374, '2022-10-01 06:10:31.901227', '2022-10-01 06:10:31.901227', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.901263', '2022-10-01 06:10:31.901263', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.901263', '2022-10-01 06:10:31.901263', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:10:31.901308', '2022-10-01 06:10:31.901308', DEFAULT), (298486374, 9.99, '2022-10-01 06:10:31.901308', '2022-10-01 06:10:31.901308', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:10:31.909695', '2022-10-01 06:10:31.909695', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:10:31.909695', '2022-10-01 06:10:31.909695', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.909771', '2022-10-01 06:10:31.909771', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.909771', '2022-10-01 06:10:31.909771', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:10:31.909798', '2022-10-01 06:10:31.909798', DEFAULT), (298486374, '2022-10-01 06:10:31.909798', '2022-10-01 06:10:31.909798', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.909822', '2022-10-01 06:10:31.909822', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.909822', '2022-10-01 06:10:31.909822', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:10:31.909853', '2022-10-01 06:10:31.909853', DEFAULT), (298486374, 9.99, '2022-10-01 06:10:31.909853', '2022-10-01 06:10:31.909853', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:10:31.918704', '2022-10-01 06:10:31.918704', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:10:31.918704', '2022-10-01 06:10:31.918704', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.918802', '2022-10-01 06:10:31.918802', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:10:31.918802', '2022-10-01 06:10:31.918802', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:10:31.918872', '2022-10-01 06:10:31.918872', DEFAULT), (298486374, '2022-10-01 06:10:31.918872', '2022-10-01 06:10:31.918872', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.918923', '2022-10-01 06:10:31.918923', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:10:31.918923', '2022-10-01 06:10:31.918923', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:10:31.918970', '2022-10-01 06:10:31.918970', DEFAULT), (298486374, 9.99, '2022-10-01 06:10:31.918970', '2022-10-01 06:10:31.918970', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:24:20.529002', '2022-10-01 06:24:20.529002', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:24:20.529002', '2022-10-01 06:24:20.529002', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.544017', '2022-10-01 06:24:20.544017', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.544017', '2022-10-01 06:24:20.544017', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:24:20.547784', '2022-10-01 06:24:20.547784', DEFAULT), (298486374, '2022-10-01 06:24:20.547784', '2022-10-01 06:24:20.547784', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.551366', '2022-10-01 06:24:20.551366', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.551366', '2022-10-01 06:24:20.551366', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:24:20.554449', '2022-10-01 06:24:20.554449', DEFAULT), (298486374, 9.99, '2022-10-01 06:24:20.554449', '2022-10-01 06:24:20.554449', DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:24:20.641475', '2022-10-01 06:24:20.641475', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:24:20.641475', '2022-10-01 06:24:20.641475', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.641545', '2022-10-01 06:24:20.641545', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.641545', '2022-10-01 06:24:20.641545', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:24:20.641573', '2022-10-01 06:24:20.641573', DEFAULT), (298486374, '2022-10-01 06:24:20.641573', '2022-10-01 06:24:20.641573', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.641611', '2022-10-01 06:24:20.641611', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.641611', '2022-10-01 06:24:20.641611', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:24:20.641642', '2022-10-01 06:24:20.641642', DEFAULT), (298486374, 9.99, '2022-10-01 06:24:20.641642', '2022-10-01 06:24:20.641642', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:24:20.648615', '2022-10-01 06:24:20.648615', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:24:20.648615', '2022-10-01 06:24:20.648615', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.648710', '2022-10-01 06:24:20.648710', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.648710', '2022-10-01 06:24:20.648710', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:24:20.648765', '2022-10-01 06:24:20.648765', DEFAULT), (298486374, '2022-10-01 06:24:20.648765', '2022-10-01 06:24:20.648765', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.648841', '2022-10-01 06:24:20.648841', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.648841', '2022-10-01 06:24:20.648841', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:24:20.648931', '2022-10-01 06:24:20.648931', DEFAULT), (298486374, 9.99, '2022-10-01 06:24:20.648931', '2022-10-01 06:24:20.648931', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:24:20.661178', '2022-10-01 06:24:20.661178', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:24:20.661178', '2022-10-01 06:24:20.661178', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.661333', '2022-10-01 06:24:20.661333', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:24:20.661333', '2022-10-01 06:24:20.661333', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:24:20.661383', '2022-10-01 06:24:20.661383', DEFAULT), (298486374, '2022-10-01 06:24:20.661383', '2022-10-01 06:24:20.661383', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.661449', '2022-10-01 06:24:20.661449', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:24:20.661449', '2022-10-01 06:24:20.661449', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:24:20.661530', '2022-10-01 06:24:20.661530', DEFAULT), (298486374, 9.99, '2022-10-01 06:24:20.661530', '2022-10-01 06:24:20.661530', DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:35:47.819274', '2022-10-01 06:35:47.819274', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:35:47.819274', '2022-10-01 06:35:47.819274', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.830855', '2022-10-01 06:35:47.830855', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.830855', '2022-10-01 06:35:47.830855', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:35:47.833329', '2022-10-01 06:35:47.833329', DEFAULT), (298486374, '2022-10-01 06:35:47.833329', '2022-10-01 06:35:47.833329', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.835355', '2022-10-01 06:35:47.835355', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.835355', '2022-10-01 06:35:47.835355', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:35:47.837431', '2022-10-01 06:35:47.837431', DEFAULT), (298486374, 9.99, '2022-10-01 06:35:47.837431', '2022-10-01 06:35:47.837431', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:35:47.908250', '2022-10-01 06:35:47.908250', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:35:47.908250', '2022-10-01 06:35:47.908250', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.908382', '2022-10-01 06:35:47.908382', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.908382', '2022-10-01 06:35:47.908382', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:35:47.908417', '2022-10-01 06:35:47.908417', DEFAULT), (298486374, '2022-10-01 06:35:47.908417', '2022-10-01 06:35:47.908417', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.908440', '2022-10-01 06:35:47.908440', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.908440', '2022-10-01 06:35:47.908440', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:35:47.908467', '2022-10-01 06:35:47.908467', DEFAULT), (298486374, 9.99, '2022-10-01 06:35:47.908467', '2022-10-01 06:35:47.908467', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:35:47.916251', '2022-10-01 06:35:47.916251', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:35:47.916251', '2022-10-01 06:35:47.916251', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.916376', '2022-10-01 06:35:47.916376', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.916376', '2022-10-01 06:35:47.916376', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:35:47.916431', '2022-10-01 06:35:47.916431', DEFAULT), (298486374, '2022-10-01 06:35:47.916431', '2022-10-01 06:35:47.916431', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.916476', '2022-10-01 06:35:47.916476', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.916476', '2022-10-01 06:35:47.916476', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:35:47.916526', '2022-10-01 06:35:47.916526', DEFAULT), (298486374, 9.99, '2022-10-01 06:35:47.916526', '2022-10-01 06:35:47.916526', DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:35:47.925614', '2022-10-01 06:35:47.925614', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:35:47.925614', '2022-10-01 06:35:47.925614', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.925680', '2022-10-01 06:35:47.925680', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:35:47.925680', '2022-10-01 06:35:47.925680', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:35:47.925732', '2022-10-01 06:35:47.925732', DEFAULT), (298486374, '2022-10-01 06:35:47.925732', '2022-10-01 06:35:47.925732', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.925755', '2022-10-01 06:35:47.925755', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:35:47.925755', '2022-10-01 06:35:47.925755', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:35:47.925783', '2022-10-01 06:35:47.925783', DEFAULT), (298486374, 9.99, '2022-10-01 06:35:47.925783', '2022-10-01 06:35:47.925783', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:40:54.823690', '2022-10-01 06:40:54.823690', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:40:54.823690', '2022-10-01 06:40:54.823690', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.833794', '2022-10-01 06:40:54.833794', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.833794', '2022-10-01 06:40:54.833794', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:40:54.836676', '2022-10-01 06:40:54.836676', DEFAULT), (298486374, '2022-10-01 06:40:54.836676', '2022-10-01 06:40:54.836676', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.839213', '2022-10-01 06:40:54.839213', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.839213', '2022-10-01 06:40:54.839213', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:40:54.842399', '2022-10-01 06:40:54.842399', DEFAULT), (298486374, 9.99, '2022-10-01 06:40:54.842399', '2022-10-01 06:40:54.842399', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:40:54.914225', '2022-10-01 06:40:54.914225', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:40:54.914225', '2022-10-01 06:40:54.914225', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.914296', '2022-10-01 06:40:54.914296', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.914296', '2022-10-01 06:40:54.914296', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:40:54.914324', '2022-10-01 06:40:54.914324', DEFAULT), (298486374, '2022-10-01 06:40:54.914324', '2022-10-01 06:40:54.914324', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.914346', '2022-10-01 06:40:54.914346', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.914346', '2022-10-01 06:40:54.914346', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:40:54.914376', '2022-10-01 06:40:54.914376', DEFAULT), (298486374, 9.99, '2022-10-01 06:40:54.914376', '2022-10-01 06:40:54.914376', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:40:54.921699', '2022-10-01 06:40:54.921699', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:40:54.921699', '2022-10-01 06:40:54.921699', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.921802', '2022-10-01 06:40:54.921802', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.921802', '2022-10-01 06:40:54.921802', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:40:54.921834', '2022-10-01 06:40:54.921834', DEFAULT), (298486374, '2022-10-01 06:40:54.921834', '2022-10-01 06:40:54.921834', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.921855', '2022-10-01 06:40:54.921855', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.921855', '2022-10-01 06:40:54.921855', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:40:54.921882', '2022-10-01 06:40:54.921882', DEFAULT), (298486374, 9.99, '2022-10-01 06:40:54.921882', '2022-10-01 06:40:54.921882', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:40:54.933002', '2022-10-01 06:40:54.933002', DEFAULT, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:40:54.933002', '2022-10-01 06:40:54.933002', DEFAULT, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.933079', '2022-10-01 06:40:54.933079', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:40:54.933079', '2022-10-01 06:40:54.933079', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:40:54.933109', '2022-10-01 06:40:54.933109', DEFAULT), (298486374, '2022-10-01 06:40:54.933109', '2022-10-01 06:40:54.933109', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.933130', '2022-10-01 06:40:54.933130', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:40:54.933130', '2022-10-01 06:40:54.933130', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:40:54.933160', '2022-10-01 06:40:54.933160', DEFAULT), (298486374, 9.99, '2022-10-01 06:40:54.933160', '2022-10-01 06:40:54.933160', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:53:12.069700', '2022-10-01 06:53:12.069700', NULL, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:53:12.069700', '2022-10-01 06:53:12.069700', NULL, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.077377', '2022-10-01 06:53:12.077377', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.077377', '2022-10-01 06:53:12.077377', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:53:12.080140', '2022-10-01 06:53:12.080140', DEFAULT), (298486374, '2022-10-01 06:53:12.080140', '2022-10-01 06:53:12.080140', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.082315', '2022-10-01 06:53:12.082315', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.082315', '2022-10-01 06:53:12.082315', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:53:12.085164', '2022-10-01 06:53:12.085164', DEFAULT), (298486374, 9.99, '2022-10-01 06:53:12.085164', '2022-10-01 06:53:12.085164', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:53:12.156032', '2022-10-01 06:53:12.156032', NULL, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:53:12.156032', '2022-10-01 06:53:12.156032', NULL, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.156106', '2022-10-01 06:53:12.156106', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.156106', '2022-10-01 06:53:12.156106', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:53:12.156135', '2022-10-01 06:53:12.156135', DEFAULT), (298486374, '2022-10-01 06:53:12.156135', '2022-10-01 06:53:12.156135', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.156158', '2022-10-01 06:53:12.156158', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.156158', '2022-10-01 06:53:12.156158', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:53:12.156185', '2022-10-01 06:53:12.156185', DEFAULT), (298486374, 9.99, '2022-10-01 06:53:12.156185', '2022-10-01 06:53:12.156185', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:53:12.162979', '2022-10-01 06:53:12.162979', NULL, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:53:12.162979', '2022-10-01 06:53:12.162979', NULL, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.163098', '2022-10-01 06:53:12.163098', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.163098', '2022-10-01 06:53:12.163098', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:53:12.163132', '2022-10-01 06:53:12.163132', DEFAULT), (298486374, '2022-10-01 06:53:12.163132', '2022-10-01 06:53:12.163132', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.163158', '2022-10-01 06:53:12.163158', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.163158', '2022-10-01 06:53:12.163158', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:53:12.163187', '2022-10-01 06:53:12.163187', DEFAULT), (298486374, 9.99, '2022-10-01 06:53:12.163187', '2022-10-01 06:53:12.163187', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "cart_id", "total", "unit_price") VALUES (980190962, 1, 980190962, '2022-10-01 06:53:12.171267', '2022-10-01 06:53:12.171267', NULL, 9, 9), (298486374, 1, 298486374, '2022-10-01 06:53:12.171267', '2022-10-01 06:53:12.171267', NULL, 9, 9);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "uid", "provider", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.171338', '2022-10-01 06:53:12.171338', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:53:12.171338', '2022-10-01 06:53:12.171338', DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:53:12.171366', '2022-10-01 06:53:12.171366', DEFAULT), (298486374, '2022-10-01 06:53:12.171366', '2022-10-01 06:53:12.171366', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.171404', '2022-10-01 06:53:12.171404', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:53:12.171404', '2022-10-01 06:53:12.171404', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:53:12.171432', '2022-10-01 06:53:12.171432', DEFAULT), (298486374, 9.99, '2022-10-01 06:53:12.171432', '2022-10-01 06:53:12.171432', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:56:59.016497', '2022-10-01 06:56:59.016497', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:56:59.016497', '2022-10-01 06:56:59.016497', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.027983', '2022-10-01 06:56:59.027983', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.027983', '2022-10-01 06:56:59.027983', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:56:59.030494', '2022-10-01 06:56:59.030494', DEFAULT), (298486374, '2022-10-01 06:56:59.030494', '2022-10-01 06:56:59.030494', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.032719', '2022-10-01 06:56:59.032719', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.032719', '2022-10-01 06:56:59.032719', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:56:59.035070', '2022-10-01 06:56:59.035070', DEFAULT), (298486374, 9.99, '2022-10-01 06:56:59.035070', '2022-10-01 06:56:59.035070', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:56:59.108486', '2022-10-01 06:56:59.108486', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:56:59.108486', '2022-10-01 06:56:59.108486', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.108564', '2022-10-01 06:56:59.108564', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.108564', '2022-10-01 06:56:59.108564', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:56:59.108592', '2022-10-01 06:56:59.108592', DEFAULT), (298486374, '2022-10-01 06:56:59.108592', '2022-10-01 06:56:59.108592', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.108615', '2022-10-01 06:56:59.108615', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.108615', '2022-10-01 06:56:59.108615', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:56:59.108641', '2022-10-01 06:56:59.108641', DEFAULT), (298486374, 9.99, '2022-10-01 06:56:59.108641', '2022-10-01 06:56:59.108641', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:56:59.117149', '2022-10-01 06:56:59.117149', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:56:59.117149', '2022-10-01 06:56:59.117149', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.117217', '2022-10-01 06:56:59.117217', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.117217', '2022-10-01 06:56:59.117217', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:56:59.117244', '2022-10-01 06:56:59.117244', DEFAULT), (298486374, '2022-10-01 06:56:59.117244', '2022-10-01 06:56:59.117244', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.117265', '2022-10-01 06:56:59.117265', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.117265', '2022-10-01 06:56:59.117265', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:56:59.117296', '2022-10-01 06:56:59.117296', DEFAULT), (298486374, 9.99, '2022-10-01 06:56:59.117296', '2022-10-01 06:56:59.117296', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:56:59.125703', '2022-10-01 06:56:59.125703', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:56:59.125703', '2022-10-01 06:56:59.125703', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.125956', '2022-10-01 06:56:59.125956', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:56:59.125956', '2022-10-01 06:56:59.125956', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:56:59.126150', '2022-10-01 06:56:59.126150', DEFAULT), (298486374, '2022-10-01 06:56:59.126150', '2022-10-01 06:56:59.126150', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.126202', '2022-10-01 06:56:59.126202', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:56:59.126202', '2022-10-01 06:56:59.126202', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:56:59.126251', '2022-10-01 06:56:59.126251', DEFAULT), (298486374, 9.99, '2022-10-01 06:56:59.126251', '2022-10-01 06:56:59.126251', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:58:26.765743', '2022-10-01 06:58:26.765743', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:58:26.765743', '2022-10-01 06:58:26.765743', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.779467', '2022-10-01 06:58:26.779467', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.779467', '2022-10-01 06:58:26.779467', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:58:26.783906', '2022-10-01 06:58:26.783906', DEFAULT), (298486374, '2022-10-01 06:58:26.783906', '2022-10-01 06:58:26.783906', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.786088', '2022-10-01 06:58:26.786088', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.786088', '2022-10-01 06:58:26.786088', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:58:26.788389', '2022-10-01 06:58:26.788389', NULL), (298486374, 9.99, '2022-10-01 06:58:26.788389', '2022-10-01 06:58:26.788389', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:58:26.861348', '2022-10-01 06:58:26.861348', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:58:26.861348', '2022-10-01 06:58:26.861348', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.861485', '2022-10-01 06:58:26.861485', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.861485', '2022-10-01 06:58:26.861485', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:58:26.861532', '2022-10-01 06:58:26.861532', DEFAULT), (298486374, '2022-10-01 06:58:26.861532', '2022-10-01 06:58:26.861532', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.861570', '2022-10-01 06:58:26.861570', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.861570', '2022-10-01 06:58:26.861570', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:58:26.861601', '2022-10-01 06:58:26.861601', NULL), (298486374, 9.99, '2022-10-01 06:58:26.861601', '2022-10-01 06:58:26.861601', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:58:26.870978', '2022-10-01 06:58:26.870978', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:58:26.870978', '2022-10-01 06:58:26.870978', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.871093', '2022-10-01 06:58:26.871093', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.871093', '2022-10-01 06:58:26.871093', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:58:26.871137', '2022-10-01 06:58:26.871137', DEFAULT), (298486374, '2022-10-01 06:58:26.871137', '2022-10-01 06:58:26.871137', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.871170', '2022-10-01 06:58:26.871170', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.871170', '2022-10-01 06:58:26.871170', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:58:26.871215', '2022-10-01 06:58:26.871215', NULL), (298486374, 9.99, '2022-10-01 06:58:26.871215', '2022-10-01 06:58:26.871215', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 06:58:26.881364', '2022-10-01 06:58:26.881364', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 06:58:26.881364', '2022-10-01 06:58:26.881364', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.881530', '2022-10-01 06:58:26.881530', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 06:58:26.881530', '2022-10-01 06:58:26.881530', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 06:58:26.881589', '2022-10-01 06:58:26.881589', DEFAULT), (298486374, '2022-10-01 06:58:26.881589', '2022-10-01 06:58:26.881589', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.881644', '2022-10-01 06:58:26.881644', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 06:58:26.881644', '2022-10-01 06:58:26.881644', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 06:58:26.881679', '2022-10-01 06:58:26.881679', NULL), (298486374, 9.99, '2022-10-01 06:58:26.881679', '2022-10-01 06:58:26.881679', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:02:04.525118', '2022-10-01 07:02:04.525118', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 07:02:04.525118', '2022-10-01 07:02:04.525118', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:02:04.532790', '2022-10-01 07:02:04.532790', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:02:04.532790', '2022-10-01 07:02:04.532790', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:02:04.536282', '2022-10-01 07:02:04.536282', DEFAULT), (298486374, '2022-10-01 07:02:04.536282', '2022-10-01 07:02:04.536282', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:02:04.538859', '2022-10-01 07:02:04.538859', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:02:04.538859', '2022-10-01 07:02:04.538859', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:02:04.541759', '2022-10-01 07:02:04.541759', NULL), (298486374, 9.99, '2022-10-01 07:02:04.541759', '2022-10-01 07:02:04.541759', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:02:04.613995', '2022-10-01 07:02:04.613995', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 07:02:04.613995', '2022-10-01 07:02:04.613995', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:02:04.614067', '2022-10-01 07:02:04.614067', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:02:04.614067', '2022-10-01 07:02:04.614067', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:02:04.614096', '2022-10-01 07:02:04.614096', DEFAULT), (298486374, '2022-10-01 07:02:04.614096', '2022-10-01 07:02:04.614096', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:02:04.614119', '2022-10-01 07:02:04.614119', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:02:04.614119', '2022-10-01 07:02:04.614119', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:02:04.614196', '2022-10-01 07:02:04.614196', NULL), (298486374, 9.99, '2022-10-01 07:02:04.614196', '2022-10-01 07:02:04.614196', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:02:04.622471', '2022-10-01 07:02:04.622471', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 07:02:04.622471', '2022-10-01 07:02:04.622471', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:02:04.622667', '2022-10-01 07:02:04.622667', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:02:04.622667', '2022-10-01 07:02:04.622667', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:02:04.622775', '2022-10-01 07:02:04.622775', DEFAULT), (298486374, '2022-10-01 07:02:04.622775', '2022-10-01 07:02:04.622775', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:02:04.622838', '2022-10-01 07:02:04.622838', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:02:04.622838', '2022-10-01 07:02:04.622838', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:02:04.622871', '2022-10-01 07:02:04.622871', NULL), (298486374, 9.99, '2022-10-01 07:02:04.622871', '2022-10-01 07:02:04.622871', NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (41.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "shopping_api_test"[0m
  [1m[35m (176.1ms)[0m  [1m[35mCREATE DATABASE "shopping_api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "city" character varying, "state" character varying, "zipcode" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint, "street_address_1" character varying, "street_address_2" character varying)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_carts_on_user_id" ON "carts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "order_items" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "quantity" integer, "product_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "total" integer, "unit_price" integer, "cart_id" bigint)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_cart_id" ON "order_items" ("cart_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_product_id" ON "order_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "total" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "description" character varying, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "manager" boolean DEFAULT FALSE)[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "carts" ADD CONSTRAINT "fk_rails_ea59a35211"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "order_items" ADD CONSTRAINT "fk_rails_59f7f23852"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "order_items" ADD CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221001070832)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221001070819);

[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2022-10-01 07:09:07.601948"], ["updated_at", "2022-10-01 07:09:07.601948"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5e9031b23457aeefb7a515493576798846b632fc"], ["created_at", "2022-10-01 07:09:07.605705"], ["updated_at", "2022-10-01 07:09:07.605705"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:09:07.681414', '2022-10-01 07:09:07.681414', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 07:09:07.681414', '2022-10-01 07:09:07.681414', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:09:07.695744', '2022-10-01 07:09:07.695744', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:09:07.695744', '2022-10-01 07:09:07.695744', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:09:07.698329', '2022-10-01 07:09:07.698329', DEFAULT), (298486374, '2022-10-01 07:09:07.698329', '2022-10-01 07:09:07.698329', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:09:07.700567', '2022-10-01 07:09:07.700567', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:09:07.700567', '2022-10-01 07:09:07.700567', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:09:07.704230', '2022-10-01 07:09:07.704230', NULL), (298486374, 9.99, '2022-10-01 07:09:07.704230', '2022-10-01 07:09:07.704230', NULL)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:09:07.800310', '2022-10-01 07:09:07.800310', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 07:09:07.800310', '2022-10-01 07:09:07.800310', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:09:07.800450', '2022-10-01 07:09:07.800450', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:09:07.800450', '2022-10-01 07:09:07.800450', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:09:07.800512', '2022-10-01 07:09:07.800512', DEFAULT), (298486374, '2022-10-01 07:09:07.800512', '2022-10-01 07:09:07.800512', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:09:07.800537', '2022-10-01 07:09:07.800537', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:09:07.800537', '2022-10-01 07:09:07.800537', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:09:07.800569', '2022-10-01 07:09:07.800569', NULL), (298486374, 9.99, '2022-10-01 07:09:07.800569', '2022-10-01 07:09:07.800569', NULL)[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:09:07.821136', '2022-10-01 07:09:07.821136', 9, 9, NULL), (298486374, 1, 298486374, '2022-10-01 07:09:07.821136', '2022-10-01 07:09:07.821136', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:09:07.821254', '2022-10-01 07:09:07.821254', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:09:07.821254', '2022-10-01 07:09:07.821254', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:09:07.821338', '2022-10-01 07:09:07.821338', DEFAULT), (298486374, '2022-10-01 07:09:07.821338', '2022-10-01 07:09:07.821338', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:09:07.821388', '2022-10-01 07:09:07.821388', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:09:07.821388', '2022-10-01 07:09:07.821388', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:09:07.821454', '2022-10-01 07:09:07.821454', NULL), (298486374, 9.99, '2022-10-01 07:09:07.821454', '2022-10-01 07:09:07.821454', NULL)[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:11:02.598736', '2022-10-01 07:11:02.598736', 9, 9, DEFAULT), (298486374, 1, 298486374, '2022-10-01 07:11:02.598736', '2022-10-01 07:11:02.598736', 9, 9, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:11:02.613394', '2022-10-01 07:11:02.613394', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:11:02.613394', '2022-10-01 07:11:02.613394', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:11:02.616208', '2022-10-01 07:11:02.616208', DEFAULT), (298486374, '2022-10-01 07:11:02.616208', '2022-10-01 07:11:02.616208', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:11:02.618023', '2022-10-01 07:11:02.618023', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:11:02.618023', '2022-10-01 07:11:02.618023', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:11:02.620923', '2022-10-01 07:11:02.620923', DEFAULT), (298486374, 9.99, '2022-10-01 07:11:02.620923', '2022-10-01 07:11:02.620923', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:11:02.716932', '2022-10-01 07:11:02.716932', 9, 9, DEFAULT), (298486374, 1, 298486374, '2022-10-01 07:11:02.716932', '2022-10-01 07:11:02.716932', 9, 9, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:11:02.717051', '2022-10-01 07:11:02.717051', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:11:02.717051', '2022-10-01 07:11:02.717051', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:11:02.717128', '2022-10-01 07:11:02.717128', DEFAULT), (298486374, '2022-10-01 07:11:02.717128', '2022-10-01 07:11:02.717128', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:11:02.717161', '2022-10-01 07:11:02.717161', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:11:02.717161', '2022-10-01 07:11:02.717161', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:11:02.717204', '2022-10-01 07:11:02.717204', DEFAULT), (298486374, 9.99, '2022-10-01 07:11:02.717204', '2022-10-01 07:11:02.717204', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, 980190962, '2022-10-01 07:11:02.736881', '2022-10-01 07:11:02.736881', 9, 9, DEFAULT), (298486374, 1, 298486374, '2022-10-01 07:11:02.736881', '2022-10-01 07:11:02.736881', 9, 9, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:11:02.737054', '2022-10-01 07:11:02.737054', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:11:02.737054', '2022-10-01 07:11:02.737054', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:11:02.737118', '2022-10-01 07:11:02.737118', DEFAULT), (298486374, '2022-10-01 07:11:02.737118', '2022-10-01 07:11:02.737118', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:11:02.737163', '2022-10-01 07:11:02.737163', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:11:02.737163', '2022-10-01 07:11:02.737163', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:11:02.737213', '2022-10-01 07:11:02.737213', DEFAULT), (298486374, 9.99, '2022-10-01 07:11:02.737213', '2022-10-01 07:11:02.737213', DEFAULT)[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, NULL, '2022-10-01 07:13:38.537052', '2022-10-01 07:13:38.537052', 9, 9, NULL), (298486374, 1, NULL, '2022-10-01 07:13:38.537052', '2022-10-01 07:13:38.537052', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:13:38.541029', '2022-10-01 07:13:38.541029', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:13:38.541029', '2022-10-01 07:13:38.541029', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:13:38.543186', '2022-10-01 07:13:38.543186', DEFAULT), (298486374, '2022-10-01 07:13:38.543186', '2022-10-01 07:13:38.543186', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:13:38.544999', '2022-10-01 07:13:38.544999', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:13:38.544999', '2022-10-01 07:13:38.544999', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:13:38.547275', '2022-10-01 07:13:38.547275', DEFAULT), (298486374, 9.99, '2022-10-01 07:13:38.547275', '2022-10-01 07:13:38.547275', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, NULL, '2022-10-01 07:13:38.625586', '2022-10-01 07:13:38.625586', 9, 9, NULL), (298486374, 1, NULL, '2022-10-01 07:13:38.625586', '2022-10-01 07:13:38.625586', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:13:38.625657', '2022-10-01 07:13:38.625657', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:13:38.625657', '2022-10-01 07:13:38.625657', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:13:38.625683', '2022-10-01 07:13:38.625683', DEFAULT), (298486374, '2022-10-01 07:13:38.625683', '2022-10-01 07:13:38.625683', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:13:38.625708', '2022-10-01 07:13:38.625708', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:13:38.625708', '2022-10-01 07:13:38.625708', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:13:38.625735', '2022-10-01 07:13:38.625735', DEFAULT), (298486374, 9.99, '2022-10-01 07:13:38.625735', '2022-10-01 07:13:38.625735', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, NULL, '2022-10-01 07:13:38.632874', '2022-10-01 07:13:38.632874', 9, 9, NULL), (298486374, 1, NULL, '2022-10-01 07:13:38.632874', '2022-10-01 07:13:38.632874', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:13:38.632937', '2022-10-01 07:13:38.632937', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:13:38.632937', '2022-10-01 07:13:38.632937', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:13:38.632964', '2022-10-01 07:13:38.632964', DEFAULT), (298486374, '2022-10-01 07:13:38.632964', '2022-10-01 07:13:38.632964', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:13:38.632986', '2022-10-01 07:13:38.632986', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:13:38.632986', '2022-10-01 07:13:38.632986', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:13:38.633011', '2022-10-01 07:13:38.633011', DEFAULT), (298486374, 9.99, '2022-10-01 07:13:38.633011', '2022-10-01 07:13:38.633011', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, DEFAULT, '2022-10-01 07:14:02.206371', '2022-10-01 07:14:02.206371', 9, 9, NULL), (298486374, 1, DEFAULT, '2022-10-01 07:14:02.206371', '2022-10-01 07:14:02.206371', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:14:02.210149', '2022-10-01 07:14:02.210149', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:14:02.210149', '2022-10-01 07:14:02.210149', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:14:02.212944', '2022-10-01 07:14:02.212944', DEFAULT), (298486374, '2022-10-01 07:14:02.212944', '2022-10-01 07:14:02.212944', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:14:02.214752', '2022-10-01 07:14:02.214752', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:14:02.214752', '2022-10-01 07:14:02.214752', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:14:02.217048', '2022-10-01 07:14:02.217048', DEFAULT), (298486374, 9.99, '2022-10-01 07:14:02.217048', '2022-10-01 07:14:02.217048', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, DEFAULT, '2022-10-01 07:14:02.289465', '2022-10-01 07:14:02.289465', 9, 9, NULL), (298486374, 1, DEFAULT, '2022-10-01 07:14:02.289465', '2022-10-01 07:14:02.289465', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:14:02.289576', '2022-10-01 07:14:02.289576', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:14:02.289576', '2022-10-01 07:14:02.289576', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:14:02.289611', '2022-10-01 07:14:02.289611', DEFAULT), (298486374, '2022-10-01 07:14:02.289611', '2022-10-01 07:14:02.289611', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:14:02.289634', '2022-10-01 07:14:02.289634', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:14:02.289634', '2022-10-01 07:14:02.289634', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:14:02.289661', '2022-10-01 07:14:02.289661', DEFAULT), (298486374, 9.99, '2022-10-01 07:14:02.289661', '2022-10-01 07:14:02.289661', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "product_id", "created_at", "updated_at", "total", "unit_price", "cart_id") VALUES (980190962, 1, DEFAULT, '2022-10-01 07:14:02.297705', '2022-10-01 07:14:02.297705', 9, 9, NULL), (298486374, 1, DEFAULT, '2022-10-01 07:14:02.297705', '2022-10-01 07:14:02.297705', 9, 9, NULL);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:14:02.297776', '2022-10-01 07:14:02.297776', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:14:02.297776', '2022-10-01 07:14:02.297776', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:14:02.297803', '2022-10-01 07:14:02.297803', DEFAULT), (298486374, '2022-10-01 07:14:02.297803', '2022-10-01 07:14:02.297803', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:14:02.297822', '2022-10-01 07:14:02.297822', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:14:02.297822', '2022-10-01 07:14:02.297822', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:14:02.297850', '2022-10-01 07:14:02.297850', DEFAULT), (298486374, 9.99, '2022-10-01 07:14:02.297850', '2022-10-01 07:14:02.297850', DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (24.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "shopping_api_test"[0m
  [1m[35m (94.8ms)[0m  [1m[35mCREATE DATABASE "shopping_api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "city" character varying, "state" character varying, "zipcode" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint, "street_address_1" character varying, "street_address_2" character varying)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_carts_on_user_id" ON "carts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "order_items" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" bigserial primary key, "quantity" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "total" integer, "unit_price" integer, "cart_id" bigint, "product_id" bigint)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_cart_id" ON "order_items" ("cart_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_product_id" ON "order_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "total" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "description" character varying, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "manager" boolean DEFAULT FALSE)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "carts" ADD CONSTRAINT "fk_rails_ea59a35211"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "order_items" ADD CONSTRAINT "fk_rails_59f7f23852"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "order_items" ADD CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221001071514)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221001071448);

[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2022-10-01 07:15:37.697690"], ["updated_at", "2022-10-01 07:15:37.697690"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "570ed940dc652b66e7c3425a5d08e6d68899041f"], ["created_at", "2022-10-01 07:15:37.701354"], ["updated_at", "2022-10-01 07:15:37.701354"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:15:37.763904', '2022-10-01 07:15:37.763904', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:15:37.763904', '2022-10-01 07:15:37.763904', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:15:37.767907', '2022-10-01 07:15:37.767907', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:15:37.767907', '2022-10-01 07:15:37.767907', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:15:37.770649', '2022-10-01 07:15:37.770649', DEFAULT), (298486374, '2022-10-01 07:15:37.770649', '2022-10-01 07:15:37.770649', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:15:37.772989', '2022-10-01 07:15:37.772989', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:15:37.772989', '2022-10-01 07:15:37.772989', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:15:37.775858', '2022-10-01 07:15:37.775858', DEFAULT), (298486374, 9.99, '2022-10-01 07:15:37.775858', '2022-10-01 07:15:37.775858', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:23:35.725840', '2022-10-01 07:23:35.725840', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:23:35.725840', '2022-10-01 07:23:35.725840', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:23:35.731412', '2022-10-01 07:23:35.731412', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:23:35.731412', '2022-10-01 07:23:35.731412', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:23:35.734603', '2022-10-01 07:23:35.734603', DEFAULT), (298486374, '2022-10-01 07:23:35.734603', '2022-10-01 07:23:35.734603', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:23:35.736822', '2022-10-01 07:23:35.736822', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:23:35.736822', '2022-10-01 07:23:35.736822', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:23:35.739527', '2022-10-01 07:23:35.739527', DEFAULT), (298486374, 9.99, '2022-10-01 07:23:35.739527', '2022-10-01 07:23:35.739527', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:24:13.389188', '2022-10-01 07:24:13.389188', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:24:13.389188', '2022-10-01 07:24:13.389188', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:24:13.393083', '2022-10-01 07:24:13.393083', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:24:13.393083', '2022-10-01 07:24:13.393083', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:24:13.395410', '2022-10-01 07:24:13.395410', DEFAULT), (298486374, '2022-10-01 07:24:13.395410', '2022-10-01 07:24:13.395410', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:24:13.397540', '2022-10-01 07:24:13.397540', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:24:13.397540', '2022-10-01 07:24:13.397540', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:24:13.400255', '2022-10-01 07:24:13.400255', DEFAULT), (298486374, 9.99, '2022-10-01 07:24:13.400255', '2022-10-01 07:24:13.400255', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:24:29.896887', '2022-10-01 07:24:29.896887', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:24:29.896887', '2022-10-01 07:24:29.896887', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:24:29.900522', '2022-10-01 07:24:29.900522', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:24:29.900522', '2022-10-01 07:24:29.900522', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:24:29.902554', '2022-10-01 07:24:29.902554', DEFAULT), (298486374, '2022-10-01 07:24:29.902554', '2022-10-01 07:24:29.902554', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:24:29.904182', '2022-10-01 07:24:29.904182', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:24:29.904182', '2022-10-01 07:24:29.904182', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:24:29.906672', '2022-10-01 07:24:29.906672', DEFAULT), (298486374, 9.99, '2022-10-01 07:24:29.906672', '2022-10-01 07:24:29.906672', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:25:19.235784', '2022-10-01 07:25:19.235784', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:25:19.235784', '2022-10-01 07:25:19.235784', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:25:19.238831', '2022-10-01 07:25:19.238831', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:25:19.238831', '2022-10-01 07:25:19.238831', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:25:19.241202', '2022-10-01 07:25:19.241202', DEFAULT), (298486374, '2022-10-01 07:25:19.241202', '2022-10-01 07:25:19.241202', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:25:19.242899', '2022-10-01 07:25:19.242899', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:25:19.242899', '2022-10-01 07:25:19.242899', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:25:19.245461', '2022-10-01 07:25:19.245461', DEFAULT), (298486374, 9.99, '2022-10-01 07:25:19.245461', '2022-10-01 07:25:19.245461', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:25:45.115650', '2022-10-01 07:25:45.115650', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:25:45.115650', '2022-10-01 07:25:45.115650', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:25:45.119424', '2022-10-01 07:25:45.119424', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:25:45.119424', '2022-10-01 07:25:45.119424', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:25:45.122568', '2022-10-01 07:25:45.122568', DEFAULT), (298486374, '2022-10-01 07:25:45.122568', '2022-10-01 07:25:45.122568', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:25:45.124614', '2022-10-01 07:25:45.124614', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:25:45.124614', '2022-10-01 07:25:45.124614', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:25:45.126866', '2022-10-01 07:25:45.126866', DEFAULT), (298486374, 9.99, '2022-10-01 07:25:45.126866', '2022-10-01 07:25:45.126866', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:26:51.364429', '2022-10-01 07:26:51.364429', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:26:51.364429', '2022-10-01 07:26:51.364429', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:26:51.368179', '2022-10-01 07:26:51.368179', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:26:51.368179', '2022-10-01 07:26:51.368179', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:26:51.370187', '2022-10-01 07:26:51.370187', DEFAULT), (298486374, '2022-10-01 07:26:51.370187', '2022-10-01 07:26:51.370187', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:26:51.371931', '2022-10-01 07:26:51.371931', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:26:51.371931', '2022-10-01 07:26:51.371931', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:26:51.374263', '2022-10-01 07:26:51.374263', DEFAULT), (298486374, 9.99, '2022-10-01 07:26:51.374263', '2022-10-01 07:26:51.374263', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
ShopsControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:27:24.300521', '2022-10-01 07:27:24.300521', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:27:24.300521', '2022-10-01 07:27:24.300521', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:27:24.304722', '2022-10-01 07:27:24.304722', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:27:24.304722', '2022-10-01 07:27:24.304722', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:27:24.306954', '2022-10-01 07:27:24.306954', DEFAULT), (298486374, '2022-10-01 07:27:24.306954', '2022-10-01 07:27:24.306954', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:27:24.308720', '2022-10-01 07:27:24.308720', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:27:24.308720', '2022-10-01 07:27:24.308720', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:27:24.311548', '2022-10-01 07:27:24.311548', DEFAULT), (298486374, 9.99, '2022-10-01 07:27:24.311548', '2022-10-01 07:27:24.311548', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:27:36.837435', '2022-10-01 07:27:36.837435', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:27:36.837435', '2022-10-01 07:27:36.837435', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:27:36.841823', '2022-10-01 07:27:36.841823', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:27:36.841823', '2022-10-01 07:27:36.841823', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:27:36.844158', '2022-10-01 07:27:36.844158', DEFAULT), (298486374, '2022-10-01 07:27:36.844158', '2022-10-01 07:27:36.844158', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:27:36.846308', '2022-10-01 07:27:36.846308', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:27:36.846308', '2022-10-01 07:27:36.846308', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:27:36.848216', '2022-10-01 07:27:36.848216', DEFAULT), (298486374, 9.99, '2022-10-01 07:27:36.848216', '2022-10-01 07:27:36.848216', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:28:55.053316', '2022-10-01 07:28:55.053316', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:28:55.053316', '2022-10-01 07:28:55.053316', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:28:55.058478', '2022-10-01 07:28:55.058478', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:28:55.058478', '2022-10-01 07:28:55.058478', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:28:55.062057', '2022-10-01 07:28:55.062057', DEFAULT), (298486374, '2022-10-01 07:28:55.062057', '2022-10-01 07:28:55.062057', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:28:55.064597', '2022-10-01 07:28:55.064597', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:28:55.064597', '2022-10-01 07:28:55.064597', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:28:55.068029', '2022-10-01 07:28:55.068029', DEFAULT), (298486374, 9.99, '2022-10-01 07:28:55.068029', '2022-10-01 07:28:55.068029', DEFAULT)[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:28:55 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:29:11.005977', '2022-10-01 07:29:11.005977', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:29:11.005977', '2022-10-01 07:29:11.005977', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:29:11.011872', '2022-10-01 07:29:11.011872', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:29:11.011872', '2022-10-01 07:29:11.011872', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:29:11.014856', '2022-10-01 07:29:11.014856', DEFAULT), (298486374, '2022-10-01 07:29:11.014856', '2022-10-01 07:29:11.014856', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:29:11.016709', '2022-10-01 07:29:11.016709', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:29:11.016709', '2022-10-01 07:29:11.016709', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:29:11.018681', '2022-10-01 07:29:11.018681', DEFAULT), (298486374, 9.99, '2022-10-01 07:29:11.018681', '2022-10-01 07:29:11.018681', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:29:21.928942', '2022-10-01 07:29:21.928942', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:29:21.928942', '2022-10-01 07:29:21.928942', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:29:21.932759', '2022-10-01 07:29:21.932759', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:29:21.932759', '2022-10-01 07:29:21.932759', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:29:21.934740', '2022-10-01 07:29:21.934740', DEFAULT), (298486374, '2022-10-01 07:29:21.934740', '2022-10-01 07:29:21.934740', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:29:21.936381', '2022-10-01 07:29:21.936381', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:29:21.936381', '2022-10-01 07:29:21.936381', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:29:21.938845', '2022-10-01 07:29:21.938845', DEFAULT), (298486374, 9.99, '2022-10-01 07:29:21.938845', '2022-10-01 07:29:21.938845', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:29:22 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:29:57.026549', '2022-10-01 07:29:57.026549', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:29:57.026549', '2022-10-01 07:29:57.026549', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:29:57.030474', '2022-10-01 07:29:57.030474', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:29:57.030474', '2022-10-01 07:29:57.030474', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:29:57.032796', '2022-10-01 07:29:57.032796', DEFAULT), (298486374, '2022-10-01 07:29:57.032796', '2022-10-01 07:29:57.032796', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:29:57.034869', '2022-10-01 07:29:57.034869', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:29:57.034869', '2022-10-01 07:29:57.034869', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:29:57.036896', '2022-10-01 07:29:57.036896', DEFAULT), (298486374, 9.99, '2022-10-01 07:29:57.036896', '2022-10-01 07:29:57.036896', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:29:57 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:29:57 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:33:10.800807', '2022-10-01 07:33:10.800807', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:33:10.800807', '2022-10-01 07:33:10.800807', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:33:10.803994', '2022-10-01 07:33:10.803994', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:33:10.803994', '2022-10-01 07:33:10.803994', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:33:10.805834', '2022-10-01 07:33:10.805834', DEFAULT), (298486374, '2022-10-01 07:33:10.805834', '2022-10-01 07:33:10.805834', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:33:10.807447', '2022-10-01 07:33:10.807447', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:33:10.807447', '2022-10-01 07:33:10.807447', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:33:10.809793', '2022-10-01 07:33:10.809793', DEFAULT), (298486374, 9.99, '2022-10-01 07:33:10.809793', '2022-10-01 07:33:10.809793', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:33:10 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:33:10 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:36:36.415944', '2022-10-01 07:36:36.415944', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:36:36.415944', '2022-10-01 07:36:36.415944', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:36:36.419989', '2022-10-01 07:36:36.419989', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:36:36.419989', '2022-10-01 07:36:36.419989', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:36:36.422739', '2022-10-01 07:36:36.422739', DEFAULT), (298486374, '2022-10-01 07:36:36.422739', '2022-10-01 07:36:36.422739', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:36:36.424488', '2022-10-01 07:36:36.424488', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:36:36.424488', '2022-10-01 07:36:36.424488', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:36:36.426423', '2022-10-01 07:36:36.426423', DEFAULT), (298486374, 9.99, '2022-10-01 07:36:36.426423', '2022-10-01 07:36:36.426423', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_should_not_save_User_without_email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:36:36 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:36:36 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:40:47.652806', '2022-10-01 07:40:47.652806', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:40:47.652806', '2022-10-01 07:40:47.652806', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:40:47.656464', '2022-10-01 07:40:47.656464', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:40:47.656464', '2022-10-01 07:40:47.656464', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:40:47.658505', '2022-10-01 07:40:47.658505', DEFAULT), (298486374, '2022-10-01 07:40:47.658505', '2022-10-01 07:40:47.658505', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:40:47.660166', '2022-10-01 07:40:47.660166', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:40:47.660166', '2022-10-01 07:40:47.660166', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:40:47.662195', '2022-10-01 07:40:47.662195', DEFAULT), (298486374, 9.99, '2022-10-01 07:40:47.662195', '2022-10-01 07:40:47.662195', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:40:47 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:40:47 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_User_should_have_method_for_downcasing_email
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "JohnEmail"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 07:40:47.805504"], ["updated_at", "2022-10-01 07:40:47.805504"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:41:05.453840', '2022-10-01 07:41:05.453840', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:41:05.453840', '2022-10-01 07:41:05.453840', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:41:05.457372', '2022-10-01 07:41:05.457372', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:41:05.457372', '2022-10-01 07:41:05.457372', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:41:05.459418', '2022-10-01 07:41:05.459418', DEFAULT), (298486374, '2022-10-01 07:41:05.459418', '2022-10-01 07:41:05.459418', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:41:05.461209', '2022-10-01 07:41:05.461209', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:41:05.461209', '2022-10-01 07:41:05.461209', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:41:05.463215', '2022-10-01 07:41:05.463215', DEFAULT), (298486374, 9.99, '2022-10-01 07:41:05.463215', '2022-10-01 07:41:05.463215', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:41:05 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_User_should_have_method_for_downcasing_email
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", nil], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 07:41:05.606160"], ["updated_at", "2022-10-01 07:41:05.606160"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:41:05 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3579)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:43:29.610246', '2022-10-01 07:43:29.610246', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:43:29.610246', '2022-10-01 07:43:29.610246', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:43:29.613269', '2022-10-01 07:43:29.613269', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:43:29.613269', '2022-10-01 07:43:29.613269', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:43:29.615610', '2022-10-01 07:43:29.615610', DEFAULT), (298486374, '2022-10-01 07:43:29.615610', '2022-10-01 07:43:29.615610', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:43:29.617524', '2022-10-01 07:43:29.617524', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:43:29.617524', '2022-10-01 07:43:29.617524', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:43:29.619491', '2022-10-01 07:43:29.619491', DEFAULT), (298486374, 9.99, '2022-10-01 07:43:29.619491', '2022-10-01 07:43:29.619491', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_User_should_have_method_for_downcasing_email
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:43:29 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:43:29 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:43:45.407623', '2022-10-01 07:43:45.407623', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:43:45.407623', '2022-10-01 07:43:45.407623', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:43:45.411221', '2022-10-01 07:43:45.411221', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:43:45.411221', '2022-10-01 07:43:45.411221', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:43:45.413636', '2022-10-01 07:43:45.413636', DEFAULT), (298486374, '2022-10-01 07:43:45.413636', '2022-10-01 07:43:45.413636', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:43:45.415631', '2022-10-01 07:43:45.415631', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:43:45.415631', '2022-10-01 07:43:45.415631', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:43:45.418746', '2022-10-01 07:43:45.418746', DEFAULT), (298486374, 9.99, '2022-10-01 07:43:45.418746', '2022-10-01 07:43:45.418746', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_User_should_have_method_for_downcasing_email
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", nil], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 07:43:45.451902"], ["updated_at", "2022-10-01 07:43:45.451902"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:43:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:43:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:45:47.910584', '2022-10-01 07:45:47.910584', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:45:47.910584', '2022-10-01 07:45:47.910584', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:45:47.914291', '2022-10-01 07:45:47.914291', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:45:47.914291', '2022-10-01 07:45:47.914291', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:45:47.916648', '2022-10-01 07:45:47.916648', DEFAULT), (298486374, '2022-10-01 07:45:47.916648', '2022-10-01 07:45:47.916648', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:45:47.918374', '2022-10-01 07:45:47.918374', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:45:47.918374', '2022-10-01 07:45:47.918374', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:45:47.920505', '2022-10-01 07:45:47.920505', DEFAULT), (298486374, 9.99, '2022-10-01 07:45:47.920505', '2022-10-01 07:45:47.920505', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:45:48 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_'email_correct'_for_downcasing_email_user
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:45:48 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:46:08.441336', '2022-10-01 07:46:08.441336', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:46:08.441336', '2022-10-01 07:46:08.441336', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:46:08.444707', '2022-10-01 07:46:08.444707', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:46:08.444707', '2022-10-01 07:46:08.444707', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:46:08.446689', '2022-10-01 07:46:08.446689', DEFAULT), (298486374, '2022-10-01 07:46:08.446689', '2022-10-01 07:46:08.446689', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:46:08.448212', '2022-10-01 07:46:08.448212', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:46:08.448212', '2022-10-01 07:46:08.448212', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:46:08.450617', '2022-10-01 07:46:08.450617', DEFAULT), (298486374, 9.99, '2022-10-01 07:46:08.450617', '2022-10-01 07:46:08.450617', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:46:08 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_'email_correct'_for_downcasing_email_user
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:46:08 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:47:44.369215', '2022-10-01 07:47:44.369215', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:47:44.369215', '2022-10-01 07:47:44.369215', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:47:44.372895', '2022-10-01 07:47:44.372895', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:47:44.372895', '2022-10-01 07:47:44.372895', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:47:44.375784', '2022-10-01 07:47:44.375784', DEFAULT), (298486374, '2022-10-01 07:47:44.375784', '2022-10-01 07:47:44.375784', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:47:44.377380', '2022-10-01 07:47:44.377380', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:47:44.377380', '2022-10-01 07:47:44.377380', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:47:44.379236', '2022-10-01 07:47:44.379236', DEFAULT), (298486374, 9.99, '2022-10-01 07:47:44.379236', '2022-10-01 07:47:44.379236', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:47:44 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_'email_correct'_for_downcasing_email_user
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:47:44 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:48:02.739930', '2022-10-01 07:48:02.739930', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:48:02.739930', '2022-10-01 07:48:02.739930', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:48:02.743453', '2022-10-01 07:48:02.743453', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:48:02.743453', '2022-10-01 07:48:02.743453', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:48:02.745359', '2022-10-01 07:48:02.745359', DEFAULT), (298486374, '2022-10-01 07:48:02.745359', '2022-10-01 07:48:02.745359', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:48:02.746829', '2022-10-01 07:48:02.746829', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:48:02.746829', '2022-10-01 07:48:02.746829', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:48:02.748981', '2022-10-01 07:48:02.748981', DEFAULT), (298486374, 9.99, '2022-10-01 07:48:02.748981', '2022-10-01 07:48:02.748981', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_'email_correct'_for_downcasing_email_user
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:48:02 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:48:02 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:48:46.378659', '2022-10-01 07:48:46.378659', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:48:46.378659', '2022-10-01 07:48:46.378659', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:48:46.384830', '2022-10-01 07:48:46.384830', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:48:46.384830', '2022-10-01 07:48:46.384830', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:48:46.387970', '2022-10-01 07:48:46.387970', DEFAULT), (298486374, '2022-10-01 07:48:46.387970', '2022-10-01 07:48:46.387970', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:48:46.390618', '2022-10-01 07:48:46.390618', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:48:46.390618', '2022-10-01 07:48:46.390618', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:48:46.392940', '2022-10-01 07:48:46.392940', DEFAULT), (298486374, 9.99, '2022-10-01 07:48:46.392940', '2022-10-01 07:48:46.392940', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------
UserTest: test_
---------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:48:46 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2541)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:48:46 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:49:22.029087', '2022-10-01 07:49:22.029087', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:49:22.029087', '2022-10-01 07:49:22.029087', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:49:22.032964', '2022-10-01 07:49:22.032964', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:49:22.032964', '2022-10-01 07:49:22.032964', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:49:22.035522', '2022-10-01 07:49:22.035522', DEFAULT), (298486374, '2022-10-01 07:49:22.035522', '2022-10-01 07:49:22.035522', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:49:22.037222', '2022-10-01 07:49:22.037222', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:49:22.037222', '2022-10-01 07:49:22.037222', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:49:22.039261', '2022-10-01 07:49:22.039261', DEFAULT), (298486374, 9.99, '2022-10-01 07:49:22.039261', '2022-10-01 07:49:22.039261', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:49:22 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:49:22 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:52:49.404363', '2022-10-01 07:52:49.404363', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:52:49.404363', '2022-10-01 07:52:49.404363', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:52:49.407882', '2022-10-01 07:52:49.407882', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:52:49.407882', '2022-10-01 07:52:49.407882', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:52:49.409900', '2022-10-01 07:52:49.409900', DEFAULT), (298486374, '2022-10-01 07:52:49.409900', '2022-10-01 07:52:49.409900', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:52:49.411609', '2022-10-01 07:52:49.411609', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:52:49.411609', '2022-10-01 07:52:49.411609', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:52:49.413765', '2022-10-01 07:52:49.413765', DEFAULT), (298486374, 9.99, '2022-10-01 07:52:49.413765', '2022-10-01 07:52:49.413765', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:52:49 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:52:49 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:53:04.227748', '2022-10-01 07:53:04.227748', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:53:04.227748', '2022-10-01 07:53:04.227748', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:53:04.231373', '2022-10-01 07:53:04.231373', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:53:04.231373', '2022-10-01 07:53:04.231373', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:53:04.233442', '2022-10-01 07:53:04.233442', DEFAULT), (298486374, '2022-10-01 07:53:04.233442', '2022-10-01 07:53:04.233442', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:53:04.234948', '2022-10-01 07:53:04.234948', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:53:04.234948', '2022-10-01 07:53:04.234948', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:53:04.236808', '2022-10-01 07:53:04.236808', DEFAULT), (298486374, 9.99, '2022-10-01 07:53:04.236808', '2022-10-01 07:53:04.236808', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:53:04 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:53:04 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:56:17.304829', '2022-10-01 07:56:17.304829', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:56:17.304829', '2022-10-01 07:56:17.304829', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:56:17.308331', '2022-10-01 07:56:17.308331', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:56:17.308331', '2022-10-01 07:56:17.308331', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:56:17.310990', '2022-10-01 07:56:17.310990', DEFAULT), (298486374, '2022-10-01 07:56:17.310990', '2022-10-01 07:56:17.310990', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:56:17.312926', '2022-10-01 07:56:17.312926', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:56:17.312926', '2022-10-01 07:56:17.312926', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:56:17.315128', '2022-10-01 07:56:17.315128', DEFAULT), (298486374, 9.99, '2022-10-01 07:56:17.315128', '2022-10-01 07:56:17.315128', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:56:17 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:56:17 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:56:41.664076', '2022-10-01 07:56:41.664076', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:56:41.664076', '2022-10-01 07:56:41.664076', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:56:41.667560', '2022-10-01 07:56:41.667560', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:56:41.667560', '2022-10-01 07:56:41.667560', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:56:41.669924', '2022-10-01 07:56:41.669924', DEFAULT), (298486374, '2022-10-01 07:56:41.669924', '2022-10-01 07:56:41.669924', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:56:41.671904', '2022-10-01 07:56:41.671904', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:56:41.671904', '2022-10-01 07:56:41.671904', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:56:41.674062', '2022-10-01 07:56:41.674062', DEFAULT), (298486374, 9.99, '2022-10-01 07:56:41.674062', '2022-10-01 07:56:41.674062', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:56:41 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:56:41 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:57:40.495390', '2022-10-01 07:57:40.495390', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:57:40.495390', '2022-10-01 07:57:40.495390', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:57:40.498671', '2022-10-01 07:57:40.498671', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:57:40.498671', '2022-10-01 07:57:40.498671', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:57:40.500944', '2022-10-01 07:57:40.500944', DEFAULT), (298486374, '2022-10-01 07:57:40.500944', '2022-10-01 07:57:40.500944', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:57:40.502526', '2022-10-01 07:57:40.502526', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:57:40.502526', '2022-10-01 07:57:40.502526', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:57:40.504445', '2022-10-01 07:57:40.504445', DEFAULT), (298486374, 9.99, '2022-10-01 07:57:40.504445', '2022-10-01 07:57:40.504445', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:57:40 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:57:40 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:58:50.287073', '2022-10-01 07:58:50.287073', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:58:50.287073', '2022-10-01 07:58:50.287073', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:58:50.291305', '2022-10-01 07:58:50.291305', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:58:50.291305', '2022-10-01 07:58:50.291305', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:58:50.293929', '2022-10-01 07:58:50.293929', DEFAULT), (298486374, '2022-10-01 07:58:50.293929', '2022-10-01 07:58:50.293929', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:58:50.295690', '2022-10-01 07:58:50.295690', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:58:50.295690', '2022-10-01 07:58:50.295690', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:58:50.298167', '2022-10-01 07:58:50.298167', DEFAULT), (298486374, 9.99, '2022-10-01 07:58:50.298167', '2022-10-01 07:58:50.298167', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:58:50 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:58:50 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 07:59:13.157972', '2022-10-01 07:59:13.157972', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 07:59:13.157972', '2022-10-01 07:59:13.157972', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:59:13.161745', '2022-10-01 07:59:13.161745', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 07:59:13.161745', '2022-10-01 07:59:13.161745', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 07:59:13.163605', '2022-10-01 07:59:13.163605', DEFAULT), (298486374, '2022-10-01 07:59:13.163605', '2022-10-01 07:59:13.163605', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 07:59:13.165097', '2022-10-01 07:59:13.165097', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 07:59:13.165097', '2022-10-01 07:59:13.165097', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 07:59:13.167158', '2022-10-01 07:59:13.167158', DEFAULT), (298486374, 9.99, '2022-10-01 07:59:13.167158', '2022-10-01 07:59:13.167158', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 17:59:13 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 17:59:13 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:01:15.506090', '2022-10-01 08:01:15.506090', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:01:15.506090', '2022-10-01 08:01:15.506090', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:01:15.510525', '2022-10-01 08:01:15.510525', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:01:15.510525', '2022-10-01 08:01:15.510525', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:01:15.512474', '2022-10-01 08:01:15.512474', DEFAULT), (298486374, '2022-10-01 08:01:15.512474', '2022-10-01 08:01:15.512474', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:01:15.513990', '2022-10-01 08:01:15.513990', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:01:15.513990', '2022-10-01 08:01:15.513990', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:01:15.516169', '2022-10-01 08:01:15.516169', DEFAULT), (298486374, 9.99, '2022-10-01 08:01:15.516169', '2022-10-01 08:01:15.516169', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:01:15 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:01:15 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:01:40.576632', '2022-10-01 08:01:40.576632', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:01:40.576632', '2022-10-01 08:01:40.576632', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:01:40.580804', '2022-10-01 08:01:40.580804', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:01:40.580804', '2022-10-01 08:01:40.580804', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:01:40.583234', '2022-10-01 08:01:40.583234', DEFAULT), (298486374, '2022-10-01 08:01:40.583234', '2022-10-01 08:01:40.583234', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:01:40.585460', '2022-10-01 08:01:40.585460', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:01:40.585460', '2022-10-01 08:01:40.585460', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:01:40.588216', '2022-10-01 08:01:40.588216', DEFAULT), (298486374, 9.99, '2022-10-01 08:01:40.588216', '2022-10-01 08:01:40.588216', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:01:40 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:01:40 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:01:59.610616', '2022-10-01 08:01:59.610616', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:01:59.610616', '2022-10-01 08:01:59.610616', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:01:59.614293', '2022-10-01 08:01:59.614293', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:01:59.614293', '2022-10-01 08:01:59.614293', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:01:59.616266', '2022-10-01 08:01:59.616266', DEFAULT), (298486374, '2022-10-01 08:01:59.616266', '2022-10-01 08:01:59.616266', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:01:59.617746', '2022-10-01 08:01:59.617746', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:01:59.617746', '2022-10-01 08:01:59.617746', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:01:59.619768', '2022-10-01 08:01:59.619768', DEFAULT), (298486374, 9.99, '2022-10-01 08:01:59.619768', '2022-10-01 08:01:59.619768', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:01:59 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:01:59 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:02:19.432586', '2022-10-01 08:02:19.432586', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:02:19.432586', '2022-10-01 08:02:19.432586', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:02:19.436436', '2022-10-01 08:02:19.436436', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:02:19.436436', '2022-10-01 08:02:19.436436', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:02:19.438703', '2022-10-01 08:02:19.438703', DEFAULT), (298486374, '2022-10-01 08:02:19.438703', '2022-10-01 08:02:19.438703', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:02:19.440896', '2022-10-01 08:02:19.440896', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:02:19.440896', '2022-10-01 08:02:19.440896', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:02:19.443011', '2022-10-01 08:02:19.443011', DEFAULT), (298486374, 9.99, '2022-10-01 08:02:19.443011', '2022-10-01 08:02:19.443011', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_for_downcasing_email_user
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:02:19 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:02:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:05:51.160266', '2022-10-01 08:05:51.160266', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:05:51.160266', '2022-10-01 08:05:51.160266', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:05:51.163695', '2022-10-01 08:05:51.163695', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:05:51.163695', '2022-10-01 08:05:51.163695', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:05:51.165949', '2022-10-01 08:05:51.165949', DEFAULT), (298486374, '2022-10-01 08:05:51.165949', '2022-10-01 08:05:51.165949', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:05:51.167673', '2022-10-01 08:05:51.167673', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:05:51.167673', '2022-10-01 08:05:51.167673', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:05:51.169604', '2022-10-01 08:05:51.169604', DEFAULT), (298486374, 9.99, '2022-10-01 08:05:51.169604', '2022-10-01 08:05:51.169604', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:05:51 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:05:51 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:06:11.337626', '2022-10-01 08:06:11.337626', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:06:11.337626', '2022-10-01 08:06:11.337626', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:06:11.341873', '2022-10-01 08:06:11.341873', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:06:11.341873', '2022-10-01 08:06:11.341873', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:06:11.343857', '2022-10-01 08:06:11.343857', DEFAULT), (298486374, '2022-10-01 08:06:11.343857', '2022-10-01 08:06:11.343857', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:06:11.345759', '2022-10-01 08:06:11.345759', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:06:11.345759', '2022-10-01 08:06:11.345759', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:06:11.347786', '2022-10-01 08:06:11.347786', DEFAULT), (298486374, 9.99, '2022-10-01 08:06:11.347786', '2022-10-01 08:06:11.347786', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:06:11 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:06:11 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:07:15.071730', '2022-10-01 08:07:15.071730', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:07:15.071730', '2022-10-01 08:07:15.071730', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:15.075111', '2022-10-01 08:07:15.075111', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:15.075111', '2022-10-01 08:07:15.075111', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:07:15.077086', '2022-10-01 08:07:15.077086', DEFAULT), (298486374, '2022-10-01 08:07:15.077086', '2022-10-01 08:07:15.077086', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:15.078670', '2022-10-01 08:07:15.078670', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:15.078670', '2022-10-01 08:07:15.078670', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:07:15.080600', '2022-10-01 08:07:15.080600', DEFAULT), (298486374, 9.99, '2022-10-01 08:07:15.080600', '2022-10-01 08:07:15.080600', DEFAULT)[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:07:15 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:07:15 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:07:27.539795', '2022-10-01 08:07:27.539795', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:07:27.539795', '2022-10-01 08:07:27.539795', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:27.543220', '2022-10-01 08:07:27.543220', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:27.543220', '2022-10-01 08:07:27.543220', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:07:27.545061', '2022-10-01 08:07:27.545061', DEFAULT), (298486374, '2022-10-01 08:07:27.545061', '2022-10-01 08:07:27.545061', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:27.546590', '2022-10-01 08:07:27.546590', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:27.546590', '2022-10-01 08:07:27.546590', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:07:27.549075', '2022-10-01 08:07:27.549075', DEFAULT), (298486374, 9.99, '2022-10-01 08:07:27.549075', '2022-10-01 08:07:27.549075', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:07:27 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:07:27 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:07:45.669716', '2022-10-01 08:07:45.669716', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:07:45.669716', '2022-10-01 08:07:45.669716', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:45.672950', '2022-10-01 08:07:45.672950', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:45.672950', '2022-10-01 08:07:45.672950', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:07:45.675508', '2022-10-01 08:07:45.675508', DEFAULT), (298486374, '2022-10-01 08:07:45.675508', '2022-10-01 08:07:45.675508', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:45.677515', '2022-10-01 08:07:45.677515', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:45.677515', '2022-10-01 08:07:45.677515', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:07:45.680451', '2022-10-01 08:07:45.680451', DEFAULT), (298486374, 9.99, '2022-10-01 08:07:45.680451', '2022-10-01 08:07:45.680451', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:07:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:07:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:07:56.878439', '2022-10-01 08:07:56.878439', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:07:56.878439', '2022-10-01 08:07:56.878439', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:56.883151', '2022-10-01 08:07:56.883151', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:07:56.883151', '2022-10-01 08:07:56.883151', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:07:56.885807', '2022-10-01 08:07:56.885807', DEFAULT), (298486374, '2022-10-01 08:07:56.885807', '2022-10-01 08:07:56.885807', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:56.888091', '2022-10-01 08:07:56.888091', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:07:56.888091', '2022-10-01 08:07:56.888091', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:07:56.890252', '2022-10-01 08:07:56.890252', DEFAULT), (298486374, 9.99, '2022-10-01 08:07:56.890252', '2022-10-01 08:07:56.890252', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:07:56 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:07:57 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:08:18.950966', '2022-10-01 08:08:18.950966', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:08:18.950966', '2022-10-01 08:08:18.950966', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:08:18.954259', '2022-10-01 08:08:18.954259', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:08:18.954259', '2022-10-01 08:08:18.954259', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:08:18.956243', '2022-10-01 08:08:18.956243', DEFAULT), (298486374, '2022-10-01 08:08:18.956243', '2022-10-01 08:08:18.956243', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:08:18.958124', '2022-10-01 08:08:18.958124', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:08:18.958124', '2022-10-01 08:08:18.958124', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:08:18.960116', '2022-10-01 08:08:18.960116', DEFAULT), (298486374, 9.99, '2022-10-01 08:08:18.960116', '2022-10-01 08:08:18.960116', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:08:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:08:19 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:08:27.285514', '2022-10-01 08:08:27.285514', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:08:27.285514', '2022-10-01 08:08:27.285514', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:08:27.289444', '2022-10-01 08:08:27.289444', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:08:27.289444', '2022-10-01 08:08:27.289444', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:08:27.291748', '2022-10-01 08:08:27.291748', DEFAULT), (298486374, '2022-10-01 08:08:27.291748', '2022-10-01 08:08:27.291748', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:08:27.293381', '2022-10-01 08:08:27.293381', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:08:27.293381', '2022-10-01 08:08:27.293381', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:08:27.295297', '2022-10-01 08:08:27.295297', DEFAULT), (298486374, 9.99, '2022-10-01 08:08:27.295297', '2022-10-01 08:08:27.295297', DEFAULT)[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:08:27 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:08:27 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:08:51.222150', '2022-10-01 08:08:51.222150', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:08:51.222150', '2022-10-01 08:08:51.222150', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:08:51.225465', '2022-10-01 08:08:51.225465', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:08:51.225465', '2022-10-01 08:08:51.225465', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:08:51.227273', '2022-10-01 08:08:51.227273', DEFAULT), (298486374, '2022-10-01 08:08:51.227273', '2022-10-01 08:08:51.227273', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:08:51.228858', '2022-10-01 08:08:51.228858', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:08:51.228858', '2022-10-01 08:08:51.228858', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:08:51.230810', '2022-10-01 08:08:51.230810', DEFAULT), (298486374, 9.99, '2022-10-01 08:08:51.230810', '2022-10-01 08:08:51.230810', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:08:51 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:08:51 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:09:03.482846', '2022-10-01 08:09:03.482846', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:09:03.482846', '2022-10-01 08:09:03.482846', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:09:03.486023', '2022-10-01 08:09:03.486023', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:09:03.486023', '2022-10-01 08:09:03.486023', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:09:03.488124', '2022-10-01 08:09:03.488124', DEFAULT), (298486374, '2022-10-01 08:09:03.488124', '2022-10-01 08:09:03.488124', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:09:03.489745', '2022-10-01 08:09:03.489745', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:09:03.489745', '2022-10-01 08:09:03.489745', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:09:03.492319', '2022-10-01 08:09:03.492319', DEFAULT), (298486374, 9.99, '2022-10-01 08:09:03.492319', '2022-10-01 08:09:03.492319', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:09:03 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:09:03 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:09:23.835596', '2022-10-01 08:09:23.835596', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:09:23.835596', '2022-10-01 08:09:23.835596', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:09:23.841835', '2022-10-01 08:09:23.841835', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:09:23.841835', '2022-10-01 08:09:23.841835', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:09:23.846447', '2022-10-01 08:09:23.846447', DEFAULT), (298486374, '2022-10-01 08:09:23.846447', '2022-10-01 08:09:23.846447', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:09:23.849001', '2022-10-01 08:09:23.849001', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:09:23.849001', '2022-10-01 08:09:23.849001', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:09:23.851500', '2022-10-01 08:09:23.851500', DEFAULT), (298486374, 9.99, '2022-10-01 08:09:23.851500', '2022-10-01 08:09:23.851500', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:09:23 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:09:23 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:09:53.744181', '2022-10-01 08:09:53.744181', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:09:53.744181', '2022-10-01 08:09:53.744181', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:09:53.747559', '2022-10-01 08:09:53.747559', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:09:53.747559', '2022-10-01 08:09:53.747559', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:09:53.749404', '2022-10-01 08:09:53.749404', DEFAULT), (298486374, '2022-10-01 08:09:53.749404', '2022-10-01 08:09:53.749404', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:09:53.751453', '2022-10-01 08:09:53.751453', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:09:53.751453', '2022-10-01 08:09:53.751453', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:09:53.753481', '2022-10-01 08:09:53.753481', DEFAULT), (298486374, 9.99, '2022-10-01 08:09:53.753481', '2022-10-01 08:09:53.753481', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:09:53 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:09:53 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:17:48.903439', '2022-10-01 08:17:48.903439', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:17:48.903439', '2022-10-01 08:17:48.903439', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:17:48.907262', '2022-10-01 08:17:48.907262', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:17:48.907262', '2022-10-01 08:17:48.907262', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:17:48.909686', '2022-10-01 08:17:48.909686', DEFAULT), (298486374, '2022-10-01 08:17:48.909686', '2022-10-01 08:17:48.909686', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:17:48.912236', '2022-10-01 08:17:48.912236', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:17:48.912236', '2022-10-01 08:17:48.912236', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:17:48.914391', '2022-10-01 08:17:48.914391', DEFAULT), (298486374, 9.99, '2022-10-01 08:17:48.914391', '2022-10-01 08:17:48.914391', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:17:48 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:17:49 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:18:19.296013', '2022-10-01 08:18:19.296013', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:18:19.296013', '2022-10-01 08:18:19.296013', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:18:19.299443', '2022-10-01 08:18:19.299443', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:18:19.299443', '2022-10-01 08:18:19.299443', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:18:19.301681', '2022-10-01 08:18:19.301681', DEFAULT), (298486374, '2022-10-01 08:18:19.301681', '2022-10-01 08:18:19.301681', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:18:19.303400', '2022-10-01 08:18:19.303400', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:18:19.303400', '2022-10-01 08:18:19.303400', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:18:19.305410', '2022-10-01 08:18:19.305410', DEFAULT), (298486374, 9.99, '2022-10-01 08:18:19.305410', '2022-10-01 08:18:19.305410', DEFAULT)[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:18:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:18:19 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:18:41.431876', '2022-10-01 08:18:41.431876', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:18:41.431876', '2022-10-01 08:18:41.431876', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:18:41.435854', '2022-10-01 08:18:41.435854', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:18:41.435854', '2022-10-01 08:18:41.435854', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:18:41.438281', '2022-10-01 08:18:41.438281', DEFAULT), (298486374, '2022-10-01 08:18:41.438281', '2022-10-01 08:18:41.438281', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:18:41.440456', '2022-10-01 08:18:41.440456', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:18:41.440456', '2022-10-01 08:18:41.440456', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:18:41.443616', '2022-10-01 08:18:41.443616', DEFAULT), (298486374, 9.99, '2022-10-01 08:18:41.443616', '2022-10-01 08:18:41.443616', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:18:41 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:18:41 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:19:48.514487', '2022-10-01 08:19:48.514487', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:19:48.514487', '2022-10-01 08:19:48.514487', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:19:48.517912', '2022-10-01 08:19:48.517912', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:19:48.517912', '2022-10-01 08:19:48.517912', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:19:48.520204', '2022-10-01 08:19:48.520204', DEFAULT), (298486374, '2022-10-01 08:19:48.520204', '2022-10-01 08:19:48.520204', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:19:48.521866', '2022-10-01 08:19:48.521866', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:19:48.521866', '2022-10-01 08:19:48.521866', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:19:48.523714', '2022-10-01 08:19:48.523714', DEFAULT), (298486374, 9.99, '2022-10-01 08:19:48.523714', '2022-10-01 08:19:48.523714', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:19:48 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:19:48 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:23:53.059307', '2022-10-01 08:23:53.059307', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:23:53.059307', '2022-10-01 08:23:53.059307', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:23:53.062710', '2022-10-01 08:23:53.062710', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:23:53.062710', '2022-10-01 08:23:53.062710', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:23:53.064739', '2022-10-01 08:23:53.064739', DEFAULT), (298486374, '2022-10-01 08:23:53.064739', '2022-10-01 08:23:53.064739', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:23:53.066423', '2022-10-01 08:23:53.066423', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:23:53.066423', '2022-10-01 08:23:53.066423', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:23:53.068534', '2022-10-01 08:23:53.068534', DEFAULT), (298486374, 9.99, '2022-10-01 08:23:53.068534', '2022-10-01 08:23:53.068534', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:23:53 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:23:53 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:24:02.612294', '2022-10-01 08:24:02.612294', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:24:02.612294', '2022-10-01 08:24:02.612294', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:24:02.615558', '2022-10-01 08:24:02.615558', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:24:02.615558', '2022-10-01 08:24:02.615558', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:24:02.617399', '2022-10-01 08:24:02.617399', DEFAULT), (298486374, '2022-10-01 08:24:02.617399', '2022-10-01 08:24:02.617399', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:24:02.619320', '2022-10-01 08:24:02.619320', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:24:02.619320', '2022-10-01 08:24:02.619320', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:24:02.621393', '2022-10-01 08:24:02.621393', DEFAULT), (298486374, 9.99, '2022-10-01 08:24:02.621393', '2022-10-01 08:24:02.621393', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:24:02 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:24:02 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:25:08.636779', '2022-10-01 08:25:08.636779', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:25:08.636779', '2022-10-01 08:25:08.636779', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:25:08.640454', '2022-10-01 08:25:08.640454', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:25:08.640454', '2022-10-01 08:25:08.640454', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:25:08.643017', '2022-10-01 08:25:08.643017', DEFAULT), (298486374, '2022-10-01 08:25:08.643017', '2022-10-01 08:25:08.643017', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:25:08.645197', '2022-10-01 08:25:08.645197', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:25:08.645197', '2022-10-01 08:25:08.645197', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:25:08.648225', '2022-10-01 08:25:08.648225', DEFAULT), (298486374, 9.99, '2022-10-01 08:25:08.648225', '2022-10-01 08:25:08.648225', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:25:08 +1000
Processing by CartController#show as HTML
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:25:08 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:26:05.565443', '2022-10-01 08:26:05.565443', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:26:05.565443', '2022-10-01 08:26:05.565443', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:26:05.568695', '2022-10-01 08:26:05.568695', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:26:05.568695', '2022-10-01 08:26:05.568695', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:26:05.570830', '2022-10-01 08:26:05.570830', DEFAULT), (298486374, '2022-10-01 08:26:05.570830', '2022-10-01 08:26:05.570830', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:26:05.572721', '2022-10-01 08:26:05.572721', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:26:05.572721', '2022-10-01 08:26:05.572721', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:26:05.574737', '2022-10-01 08:26:05.574737', DEFAULT), (298486374, 9.99, '2022-10-01 08:26:05.574737', '2022-10-01 08:26:05.574737', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:26:05 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:26:05 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:26:27.821818', '2022-10-01 08:26:27.821818', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:26:27.821818', '2022-10-01 08:26:27.821818', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:26:27.825136', '2022-10-01 08:26:27.825136', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:26:27.825136', '2022-10-01 08:26:27.825136', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:26:27.827025', '2022-10-01 08:26:27.827025', DEFAULT), (298486374, '2022-10-01 08:26:27.827025', '2022-10-01 08:26:27.827025', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:26:27.828937', '2022-10-01 08:26:27.828937', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:26:27.828937', '2022-10-01 08:26:27.828937', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:26:27.830918', '2022-10-01 08:26:27.830918', DEFAULT), (298486374, 9.99, '2022-10-01 08:26:27.830918', '2022-10-01 08:26:27.830918', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:26:27 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:26:27 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:27:41.876248', '2022-10-01 08:27:41.876248', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:27:41.876248', '2022-10-01 08:27:41.876248', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:27:41.880133', '2022-10-01 08:27:41.880133', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:27:41.880133', '2022-10-01 08:27:41.880133', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:27:41.882194', '2022-10-01 08:27:41.882194', DEFAULT), (298486374, '2022-10-01 08:27:41.882194', '2022-10-01 08:27:41.882194', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:27:41.883696', '2022-10-01 08:27:41.883696', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:27:41.883696', '2022-10-01 08:27:41.883696', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:27:41.886122', '2022-10-01 08:27:41.886122', DEFAULT), (298486374, 9.99, '2022-10-01 08:27:41.886122', '2022-10-01 08:27:41.886122', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:27:41 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:27:42 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:29:10.721908', '2022-10-01 08:29:10.721908', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:29:10.721908', '2022-10-01 08:29:10.721908', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:29:10.725030', '2022-10-01 08:29:10.725030', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:29:10.725030', '2022-10-01 08:29:10.725030', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:29:10.727253', '2022-10-01 08:29:10.727253', DEFAULT), (298486374, '2022-10-01 08:29:10.727253', '2022-10-01 08:29:10.727253', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:29:10.728816', '2022-10-01 08:29:10.728816', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:29:10.728816', '2022-10-01 08:29:10.728816', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:29:10.730796', '2022-10-01 08:29:10.730796', DEFAULT), (298486374, 9.99, '2022-10-01 08:29:10.730796', '2022-10-01 08:29:10.730796', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:29:10 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:29:10 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:29:41.969739', '2022-10-01 08:29:41.969739', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:29:41.969739', '2022-10-01 08:29:41.969739', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:29:41.973180', '2022-10-01 08:29:41.973180', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:29:41.973180', '2022-10-01 08:29:41.973180', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:29:41.975121', '2022-10-01 08:29:41.975121', DEFAULT), (298486374, '2022-10-01 08:29:41.975121', '2022-10-01 08:29:41.975121', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:29:41.976918', '2022-10-01 08:29:41.976918', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:29:41.976918', '2022-10-01 08:29:41.976918', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:29:41.978826', '2022-10-01 08:29:41.978826', DEFAULT), (298486374, 9.99, '2022-10-01 08:29:41.978826', '2022-10-01 08:29:41.978826', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:29:42 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:29:42.116629"], ["updated_at", "2022-10-01 08:29:42.116629"], ["manager", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:29:42 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:29:57.905106', '2022-10-01 08:29:57.905106', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:29:57.905106', '2022-10-01 08:29:57.905106', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:29:57.908939', '2022-10-01 08:29:57.908939', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:29:57.908939', '2022-10-01 08:29:57.908939', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:29:57.911045', '2022-10-01 08:29:57.911045', DEFAULT), (298486374, '2022-10-01 08:29:57.911045', '2022-10-01 08:29:57.911045', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:29:57.912651', '2022-10-01 08:29:57.912651', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:29:57.912651', '2022-10-01 08:29:57.912651', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:29:57.915207', '2022-10-01 08:29:57.915207', DEFAULT), (298486374, 9.99, '2022-10-01 08:29:57.915207', '2022-10-01 08:29:57.915207', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:29:57 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:29:58 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:30:04.671268', '2022-10-01 08:30:04.671268', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:30:04.671268', '2022-10-01 08:30:04.671268', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:30:04.674553', '2022-10-01 08:30:04.674553', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:30:04.674553', '2022-10-01 08:30:04.674553', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:30:04.676781', '2022-10-01 08:30:04.676781', DEFAULT), (298486374, '2022-10-01 08:30:04.676781', '2022-10-01 08:30:04.676781', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:30:04.678735', '2022-10-01 08:30:04.678735', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:30:04.678735', '2022-10-01 08:30:04.678735', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:30:04.680965', '2022-10-01 08:30:04.680965', DEFAULT), (298486374, 9.99, '2022-10-01 08:30:04.680965', '2022-10-01 08:30:04.680965', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:30:04.708833"], ["updated_at", "2022-10-01 08:30:04.708833"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:30:04 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5940)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:30:04 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:30:20.138545', '2022-10-01 08:30:20.138545', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:30:20.138545', '2022-10-01 08:30:20.138545', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:30:20.141859', '2022-10-01 08:30:20.141859', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:30:20.141859', '2022-10-01 08:30:20.141859', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:30:20.144035', '2022-10-01 08:30:20.144035', DEFAULT), (298486374, '2022-10-01 08:30:20.144035', '2022-10-01 08:30:20.144035', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:30:20.145972', '2022-10-01 08:30:20.145972', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:30:20.145972', '2022-10-01 08:30:20.145972', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:30:20.147934', '2022-10-01 08:30:20.147934', DEFAULT), (298486374, 9.99, '2022-10-01 08:30:20.147934', '2022-10-01 08:30:20.147934', DEFAULT)[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:30:20.175895"], ["updated_at", "2022-10-01 08:30:20.175895"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:30:20 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5940)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:30:20 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:32:00.893913', '2022-10-01 08:32:00.893913', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:32:00.893913', '2022-10-01 08:32:00.893913', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:32:00.898046', '2022-10-01 08:32:00.898046', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:32:00.898046', '2022-10-01 08:32:00.898046', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:32:00.900862', '2022-10-01 08:32:00.900862', DEFAULT), (298486374, '2022-10-01 08:32:00.900862', '2022-10-01 08:32:00.900862', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:32:00.902806', '2022-10-01 08:32:00.902806', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:32:00.902806', '2022-10-01 08:32:00.902806', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:32:00.904894', '2022-10-01 08:32:00.904894', DEFAULT), (298486374, 9.99, '2022-10-01 08:32:00.904894', '2022-10-01 08:32:00.904894', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:32:00 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:32:01.060218"], ["updated_at", "2022-10-01 08:32:01.060218"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:32:01 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:33:43.629254', '2022-10-01 08:33:43.629254', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:33:43.629254', '2022-10-01 08:33:43.629254', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:33:43.633477', '2022-10-01 08:33:43.633477', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:33:43.633477', '2022-10-01 08:33:43.633477', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:33:43.636017', '2022-10-01 08:33:43.636017', DEFAULT), (298486374, '2022-10-01 08:33:43.636017', '2022-10-01 08:33:43.636017', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:33:43.637781', '2022-10-01 08:33:43.637781', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:33:43.637781', '2022-10-01 08:33:43.637781', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:33:43.640116', '2022-10-01 08:33:43.640116', DEFAULT), (298486374, 9.99, '2022-10-01 08:33:43.640116', '2022-10-01 08:33:43.640116', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:33:43.668698"], ["updated_at", "2022-10-01 08:33:43.668698"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:33:43 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:33:43 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3579)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:34:30.725703', '2022-10-01 08:34:30.725703', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:34:30.725703', '2022-10-01 08:34:30.725703', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:34:30.728691', '2022-10-01 08:34:30.728691', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:34:30.728691', '2022-10-01 08:34:30.728691', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:34:30.731133', '2022-10-01 08:34:30.731133', DEFAULT), (298486374, '2022-10-01 08:34:30.731133', '2022-10-01 08:34:30.731133', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:34:30.732730', '2022-10-01 08:34:30.732730', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:34:30.732730', '2022-10-01 08:34:30.732730', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:34:30.735681', '2022-10-01 08:34:30.735681', DEFAULT), (298486374, 9.99, '2022-10-01 08:34:30.735681', '2022-10-01 08:34:30.735681', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:34:30 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:34:30.881088"], ["updated_at", "2022-10-01 08:34:30.881088"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:34:30 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:34:47.979611', '2022-10-01 08:34:47.979611', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:34:47.979611', '2022-10-01 08:34:47.979611', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:34:47.983120', '2022-10-01 08:34:47.983120', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:34:47.983120', '2022-10-01 08:34:47.983120', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:34:47.985718', '2022-10-01 08:34:47.985718', DEFAULT), (298486374, '2022-10-01 08:34:47.985718', '2022-10-01 08:34:47.985718', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:34:47.987930', '2022-10-01 08:34:47.987930', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:34:47.987930', '2022-10-01 08:34:47.987930', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:34:47.990107', '2022-10-01 08:34:47.990107', DEFAULT), (298486374, 9.99, '2022-10-01 08:34:47.990107', '2022-10-01 08:34:47.990107', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:34:48.018284"], ["updated_at", "2022-10-01 08:34:48.018284"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:34:48 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:34:48 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:35:46.017212', '2022-10-01 08:35:46.017212', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:35:46.017212', '2022-10-01 08:35:46.017212', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:35:46.020639', '2022-10-01 08:35:46.020639', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:35:46.020639', '2022-10-01 08:35:46.020639', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:35:46.022851', '2022-10-01 08:35:46.022851', DEFAULT), (298486374, '2022-10-01 08:35:46.022851', '2022-10-01 08:35:46.022851', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:35:46.024456', '2022-10-01 08:35:46.024456', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:35:46.024456', '2022-10-01 08:35:46.024456', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:35:46.026560', '2022-10-01 08:35:46.026560', DEFAULT), (298486374, 9.99, '2022-10-01 08:35:46.026560', '2022-10-01 08:35:46.026560', DEFAULT)[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:35:46 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:35:46.162704"], ["updated_at", "2022-10-01 08:35:46.162704"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:35:46 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:36:06.306007', '2022-10-01 08:36:06.306007', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:36:06.306007', '2022-10-01 08:36:06.306007', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:36:06.311677', '2022-10-01 08:36:06.311677', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:36:06.311677', '2022-10-01 08:36:06.311677', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:36:06.314208', '2022-10-01 08:36:06.314208', DEFAULT), (298486374, '2022-10-01 08:36:06.314208', '2022-10-01 08:36:06.314208', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:36:06.316643', '2022-10-01 08:36:06.316643', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:36:06.316643', '2022-10-01 08:36:06.316643', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:36:06.323248', '2022-10-01 08:36:06.323248', DEFAULT), (298486374, 9.99, '2022-10-01 08:36:06.323248', '2022-10-01 08:36:06.323248', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:36:06 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:36:06 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:36:06.479081"], ["updated_at", "2022-10-01 08:36:06.479081"], ["manager", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-01 08:36:14.657817', '2022-10-01 08:36:14.657817', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-01 08:36:14.657817', '2022-10-01 08:36:14.657817', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:36:14.661633', '2022-10-01 08:36:14.661633', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-01 08:36:14.661633', '2022-10-01 08:36:14.661633', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-01 08:36:14.663912', '2022-10-01 08:36:14.663912', DEFAULT), (298486374, '2022-10-01 08:36:14.663912', '2022-10-01 08:36:14.663912', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-01 08:36:14.665791', '2022-10-01 08:36:14.665791', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-01 08:36:14.665791', '2022-10-01 08:36:14.665791', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-01 08:36:14.668554', '2022-10-01 08:36:14.668554', DEFAULT), (298486374, 9.99, '2022-10-01 08:36:14.668554', '2022-10-01 08:36:14.668554', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-01 18:36:14 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-01 18:36:14 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "Johnemail"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "johnemail"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-01 08:36:14.814317"], ["updated_at", "2022-10-01 08:36:14.814317"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:04:02.611961', '2022-10-02 07:04:02.611961', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:04:02.611961', '2022-10-02 07:04:02.611961', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:04:02.623956', '2022-10-02 07:04:02.623956', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:04:02.623956', '2022-10-02 07:04:02.623956', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:04:02.626265', '2022-10-02 07:04:02.626265', DEFAULT), (298486374, '2022-10-02 07:04:02.626265', '2022-10-02 07:04:02.626265', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:04:02.628137', '2022-10-02 07:04:02.628137', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:04:02.628137', '2022-10-02 07:04:02.628137', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:04:02.630491', '2022-10-02 07:04:02.630491', DEFAULT), (298486374, 9.99, '2022-10-02 07:04:02.630491', '2022-10-02 07:04:02.630491', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:04:02 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:04:02 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:04:32.136449', '2022-10-02 07:04:32.136449', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:04:32.136449', '2022-10-02 07:04:32.136449', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:04:32.139472', '2022-10-02 07:04:32.139472', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:04:32.139472', '2022-10-02 07:04:32.139472', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:04:32.141470', '2022-10-02 07:04:32.141470', DEFAULT), (298486374, '2022-10-02 07:04:32.141470', '2022-10-02 07:04:32.141470', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:04:32.143207', '2022-10-02 07:04:32.143207', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:04:32.143207', '2022-10-02 07:04:32.143207', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:04:32.145897', '2022-10-02 07:04:32.145897', DEFAULT), (298486374, 9.99, '2022-10-02 07:04:32.145897', '2022-10-02 07:04:32.145897', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:04:32 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:04:32 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:04:48.188971', '2022-10-02 07:04:48.188971', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:04:48.188971', '2022-10-02 07:04:48.188971', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:04:48.192538', '2022-10-02 07:04:48.192538', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:04:48.192538', '2022-10-02 07:04:48.192538', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:04:48.194557', '2022-10-02 07:04:48.194557', DEFAULT), (298486374, '2022-10-02 07:04:48.194557', '2022-10-02 07:04:48.194557', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:04:48.196364', '2022-10-02 07:04:48.196364', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:04:48.196364', '2022-10-02 07:04:48.196364', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:04:48.198573', '2022-10-02 07:04:48.198573', DEFAULT), (298486374, 9.99, '2022-10-02 07:04:48.198573', '2022-10-02 07:04:48.198573', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:04:48 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:04:48 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:05:16.525198', '2022-10-02 07:05:16.525198', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:05:16.525198', '2022-10-02 07:05:16.525198', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:05:16.528203', '2022-10-02 07:05:16.528203', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:05:16.528203', '2022-10-02 07:05:16.528203', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:05:16.530253', '2022-10-02 07:05:16.530253', DEFAULT), (298486374, '2022-10-02 07:05:16.530253', '2022-10-02 07:05:16.530253', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:05:16.531919', '2022-10-02 07:05:16.531919', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:05:16.531919', '2022-10-02 07:05:16.531919', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:05:16.533737', '2022-10-02 07:05:16.533737', DEFAULT), (298486374, 9.99, '2022-10-02 07:05:16.533737', '2022-10-02 07:05:16.533737', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:05:16 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:05:16 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:05:45.714786', '2022-10-02 07:05:45.714786', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:05:45.714786', '2022-10-02 07:05:45.714786', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:05:45.718130', '2022-10-02 07:05:45.718130', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:05:45.718130', '2022-10-02 07:05:45.718130', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:05:45.720276', '2022-10-02 07:05:45.720276', DEFAULT), (298486374, '2022-10-02 07:05:45.720276', '2022-10-02 07:05:45.720276', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:05:45.721786', '2022-10-02 07:05:45.721786', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:05:45.721786', '2022-10-02 07:05:45.721786', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:05:45.723700', '2022-10-02 07:05:45.723700', DEFAULT), (298486374, 9.99, '2022-10-02 07:05:45.723700', '2022-10-02 07:05:45.723700', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:05:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:05:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:05:57.927263', '2022-10-02 07:05:57.927263', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:05:57.927263', '2022-10-02 07:05:57.927263', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:05:57.930880', '2022-10-02 07:05:57.930880', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:05:57.930880', '2022-10-02 07:05:57.930880', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:05:57.932971', '2022-10-02 07:05:57.932971', DEFAULT), (298486374, '2022-10-02 07:05:57.932971', '2022-10-02 07:05:57.932971', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:05:57.934726', '2022-10-02 07:05:57.934726', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:05:57.934726', '2022-10-02 07:05:57.934726', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:05:57.936722', '2022-10-02 07:05:57.936722', DEFAULT), (298486374, 9.99, '2022-10-02 07:05:57.936722', '2022-10-02 07:05:57.936722', DEFAULT)[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:05:58 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:05:58 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:06:13.131639', '2022-10-02 07:06:13.131639', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:06:13.131639', '2022-10-02 07:06:13.131639', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:06:13.134803', '2022-10-02 07:06:13.134803', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:06:13.134803', '2022-10-02 07:06:13.134803', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:06:13.137169', '2022-10-02 07:06:13.137169', DEFAULT), (298486374, '2022-10-02 07:06:13.137169', '2022-10-02 07:06:13.137169', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:06:13.138721', '2022-10-02 07:06:13.138721', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:06:13.138721', '2022-10-02 07:06:13.138721', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:06:13.140601', '2022-10-02 07:06:13.140601', DEFAULT), (298486374, 9.99, '2022-10-02 07:06:13.140601', '2022-10-02 07:06:13.140601', DEFAULT)[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_#email_correct_should_downcasing_email_address
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:06:13 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:06:13 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:15:47.200989', '2022-10-02 07:15:47.200989', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:15:47.200989', '2022-10-02 07:15:47.200989', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:15:47.205425', '2022-10-02 07:15:47.205425', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:15:47.205425', '2022-10-02 07:15:47.205425', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:15:47.207622', '2022-10-02 07:15:47.207622', DEFAULT), (298486374, '2022-10-02 07:15:47.207622', '2022-10-02 07:15:47.207622', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:15:47.209364', '2022-10-02 07:15:47.209364', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:15:47.209364', '2022-10-02 07:15:47.209364', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:15:47.212377', '2022-10-02 07:15:47.212377', DEFAULT), (298486374, 9.99, '2022-10-02 07:15:47.212377', '2022-10-02 07:15:47.212377', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:15:47 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:15:47 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_Should_not_save_User_without_password
----------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:17:19.236342', '2022-10-02 07:17:19.236342', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:17:19.236342', '2022-10-02 07:17:19.236342', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:17:19.240663', '2022-10-02 07:17:19.240663', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:17:19.240663', '2022-10-02 07:17:19.240663', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:17:19.243159', '2022-10-02 07:17:19.243159', DEFAULT), (298486374, '2022-10-02 07:17:19.243159', '2022-10-02 07:17:19.243159', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:17:19.244942', '2022-10-02 07:17:19.244942', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:17:19.244942', '2022-10-02 07:17:19.244942', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:17:19.247863', '2022-10-02 07:17:19.247863', DEFAULT), (298486374, 9.99, '2022-10-02 07:17:19.247863', '2022-10-02 07:17:19.247863', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:17:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:17:19 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_Should_not_save_User_without_password
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "testemail@"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-02 07:17:19.425241"], ["updated_at", "2022-10-02 07:17:19.425241"], ["manager", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:17:54.554594', '2022-10-02 07:17:54.554594', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:17:54.554594', '2022-10-02 07:17:54.554594', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:17:54.558029', '2022-10-02 07:17:54.558029', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:17:54.558029', '2022-10-02 07:17:54.558029', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:17:54.560605', '2022-10-02 07:17:54.560605', DEFAULT), (298486374, '2022-10-02 07:17:54.560605', '2022-10-02 07:17:54.560605', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:17:54.562726', '2022-10-02 07:17:54.562726', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:17:54.562726', '2022-10-02 07:17:54.562726', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:17:54.564925', '2022-10-02 07:17:54.564925', DEFAULT), (298486374, 9.99, '2022-10-02 07:17:54.564925', '2022-10-02 07:17:54.564925', DEFAULT)[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:17:54 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:17:54 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:47:18.138509', '2022-10-02 07:47:18.138509', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:47:18.138509', '2022-10-02 07:47:18.138509', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:47:18.141884', '2022-10-02 07:47:18.141884', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:47:18.141884', '2022-10-02 07:47:18.141884', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:47:18.144178', '2022-10-02 07:47:18.144178', DEFAULT), (298486374, '2022-10-02 07:47:18.144178', '2022-10-02 07:47:18.144178', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:47:18.145889', '2022-10-02 07:47:18.145889', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:47:18.145889', '2022-10-02 07:47:18.145889', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:47:18.147702', '2022-10-02 07:47:18.147702', DEFAULT), (298486374, 9.99, '2022-10-02 07:47:18.147702', '2022-10-02 07:47:18.147702', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test__session_login
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2022-10-02 17:47:18 +1000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:47:18 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:47:18 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:47:34.728204', '2022-10-02 07:47:34.728204', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:47:34.728204', '2022-10-02 07:47:34.728204', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:47:34.731185', '2022-10-02 07:47:34.731185', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:47:34.731185', '2022-10-02 07:47:34.731185', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:47:34.732976', '2022-10-02 07:47:34.732976', DEFAULT), (298486374, '2022-10-02 07:47:34.732976', '2022-10-02 07:47:34.732976', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:47:34.734698', '2022-10-02 07:47:34.734698', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:47:34.734698', '2022-10-02 07:47:34.734698', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:47:34.736625', '2022-10-02 07:47:34.736625', DEFAULT), (298486374, 9.99, '2022-10-02 07:47:34.736625', '2022-10-02 07:47:34.736625', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:47:34 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:47:34 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test__session_login
-------------------------------------------
Started POST "/login" for 127.0.0.1 at 2022-10-02 17:47:34 +1000
Processing by SessionsController#create as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 734)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:48:18.621559', '2022-10-02 07:48:18.621559', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:48:18.621559', '2022-10-02 07:48:18.621559', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:48:18.625904', '2022-10-02 07:48:18.625904', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:48:18.625904', '2022-10-02 07:48:18.625904', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:48:18.628012', '2022-10-02 07:48:18.628012', DEFAULT), (298486374, '2022-10-02 07:48:18.628012', '2022-10-02 07:48:18.628012', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:48:18.629806', '2022-10-02 07:48:18.629806', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:48:18.629806', '2022-10-02 07:48:18.629806', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:48:18.631846', '2022-10-02 07:48:18.631846', DEFAULT), (298486374, 9.99, '2022-10-02 07:48:18.631846', '2022-10-02 07:48:18.631846', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test__session_login
-------------------------------------------
Started POST "/login?email=user%40live.fr&password_digest=[FILTERED]" for 127.0.0.1 at 2022-10-02 17:48:18 +1000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"user@live.fr", "password_digest"=>"[FILTERED]"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3050)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:48:18 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 224)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:48:18 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-02 07:51:19.506202', '2022-10-02 07:51:19.506202', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-02 07:51:19.506202', '2022-10-02 07:51:19.506202', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:51:19.509898', '2022-10-02 07:51:19.509898', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-02 07:51:19.509898', '2022-10-02 07:51:19.509898', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-02 07:51:19.511985', '2022-10-02 07:51:19.511985', DEFAULT), (298486374, '2022-10-02 07:51:19.511985', '2022-10-02 07:51:19.511985', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-02 07:51:19.513679', '2022-10-02 07:51:19.513679', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-02 07:51:19.513679', '2022-10-02 07:51:19.513679', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-02 07:51:19.515962', '2022-10-02 07:51:19.515962', DEFAULT), (298486374, 9.99, '2022-10-02 07:51:19.515962', '2022-10-02 07:51:19.515962', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-02 17:51:19 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test__session_login
-------------------------------------------
Started POST "/login?email=user%40live.fr&password_digest=[FILTERED]" for 127.0.0.1 at 2022-10-02 17:51:19 +1000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"user@live.fr", "password_digest"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 734)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-02 17:51:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:48:08.715187', '2022-10-03 22:48:08.715187', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:48:08.715187', '2022-10-03 22:48:08.715187', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:48:08.724250', '2022-10-03 22:48:08.724250', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:48:08.724250', '2022-10-03 22:48:08.724250', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:48:08.727598', '2022-10-03 22:48:08.727598', DEFAULT), (298486374, '2022-10-03 22:48:08.727598', '2022-10-03 22:48:08.727598', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:48:08.729567', '2022-10-03 22:48:08.729567', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:48:08.729567', '2022-10-03 22:48:08.729567', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:48:08.731756', '2022-10-03 22:48:08.731756', DEFAULT), (298486374, 9.99, '2022-10-03 22:48:08.731756', '2022-10-03 22:48:08.731756', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:48:08 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:48:08 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test__session_login
-------------------------------------------
Started POST "/login?email=user%40live.fr&password_digest=[FILTERED]" for 127.0.0.1 at 2022-10-04 08:48:08 +1000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"user@live.fr", "password_digest"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 734)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:48:31.277151', '2022-10-03 22:48:31.277151', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:48:31.277151', '2022-10-03 22:48:31.277151', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:48:31.280911', '2022-10-03 22:48:31.280911', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:48:31.280911', '2022-10-03 22:48:31.280911', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:48:31.283299', '2022-10-03 22:48:31.283299', DEFAULT), (298486374, '2022-10-03 22:48:31.283299', '2022-10-03 22:48:31.283299', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:48:31.285395', '2022-10-03 22:48:31.285395', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:48:31.285395', '2022-10-03 22:48:31.285395', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:48:31.287540', '2022-10-03 22:48:31.287540', DEFAULT), (298486374, 9.99, '2022-10-03 22:48:31.287540', '2022-10-03 22:48:31.287540', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test__session_login
-------------------------------------------
Started POST "/login.one" for 127.0.0.1 at 2022-10-04 08:48:31 +1000
Processing by SessionsController#create as */*
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3049)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:48:31 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 225)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:48:31 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:48:59.308884', '2022-10-03 22:48:59.308884', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:48:59.308884', '2022-10-03 22:48:59.308884', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:48:59.312914', '2022-10-03 22:48:59.312914', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:48:59.312914', '2022-10-03 22:48:59.312914', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:48:59.314824', '2022-10-03 22:48:59.314824', DEFAULT), (298486374, '2022-10-03 22:48:59.314824', '2022-10-03 22:48:59.314824', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:48:59.316605', '2022-10-03 22:48:59.316605', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:48:59.316605', '2022-10-03 22:48:59.316605', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:48:59.319079', '2022-10-03 22:48:59.319079', DEFAULT), (298486374, 9.99, '2022-10-03 22:48:59.319079', '2022-10-03 22:48:59.319079', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:48:59 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:48:59 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:50:22.273922', '2022-10-03 22:50:22.273922', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:50:22.273922', '2022-10-03 22:50:22.273922', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:50:22.277940', '2022-10-03 22:50:22.277940', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:50:22.277940', '2022-10-03 22:50:22.277940', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:50:22.280038', '2022-10-03 22:50:22.280038', DEFAULT), (298486374, '2022-10-03 22:50:22.280038', '2022-10-03 22:50:22.280038', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:50:22.281859', '2022-10-03 22:50:22.281859', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:50:22.281859', '2022-10-03 22:50:22.281859', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:50:22.284800', '2022-10-03 22:50:22.284800', DEFAULT), (298486374, 9.99, '2022-10-03 22:50:22.284800', '2022-10-03 22:50:22.284800', DEFAULT)[0m
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:50:22 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:50:22 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------
UserTest: test_test
-------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:50:45.756828', '2022-10-03 22:50:45.756828', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:50:45.756828', '2022-10-03 22:50:45.756828', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:50:45.763265', '2022-10-03 22:50:45.763265', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:50:45.763265', '2022-10-03 22:50:45.763265', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:50:45.766667', '2022-10-03 22:50:45.766667', DEFAULT), (298486374, '2022-10-03 22:50:45.766667', '2022-10-03 22:50:45.766667', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:50:45.769186', '2022-10-03 22:50:45.769186', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:50:45.769186', '2022-10-03 22:50:45.769186', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:50:45.772883', '2022-10-03 22:50:45.772883', DEFAULT), (298486374, 9.99, '2022-10-03 22:50:45.772883', '2022-10-03 22:50:45.772883', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:50:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:50:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------
UserTest: test_test
-------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:51:07.181728', '2022-10-03 22:51:07.181728', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:51:07.181728', '2022-10-03 22:51:07.181728', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:51:07.185090', '2022-10-03 22:51:07.185090', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:51:07.185090', '2022-10-03 22:51:07.185090', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:51:07.187889', '2022-10-03 22:51:07.187889', DEFAULT), (298486374, '2022-10-03 22:51:07.187889', '2022-10-03 22:51:07.187889', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:51:07.189896', '2022-10-03 22:51:07.189896', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:51:07.189896', '2022-10-03 22:51:07.189896', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:51:07.193139', '2022-10-03 22:51:07.193139', DEFAULT), (298486374, 9.99, '2022-10-03 22:51:07.193139', '2022-10-03 22:51:07.193139', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:51:07 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------
UserTest: test_test
-------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:51:07 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:51:24.080248', '2022-10-03 22:51:24.080248', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:51:24.080248', '2022-10-03 22:51:24.080248', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:51:24.084306', '2022-10-03 22:51:24.084306', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:51:24.084306', '2022-10-03 22:51:24.084306', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:51:24.086506', '2022-10-03 22:51:24.086506', DEFAULT), (298486374, '2022-10-03 22:51:24.086506', '2022-10-03 22:51:24.086506', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:51:24.088682', '2022-10-03 22:51:24.088682', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:51:24.088682', '2022-10-03 22:51:24.088682', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:51:24.091017', '2022-10-03 22:51:24.091017', DEFAULT), (298486374, 9.99, '2022-10-03 22:51:24.091017', '2022-10-03 22:51:24.091017', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:51:24 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------
UserTest: test_the_truth
------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------
UserTest: test_test
-------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:51:24 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:55:32.386679', '2022-10-03 22:55:32.386679', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:55:32.386679', '2022-10-03 22:55:32.386679', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:55:32.390608', '2022-10-03 22:55:32.390608', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:55:32.390608', '2022-10-03 22:55:32.390608', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:55:32.392795', '2022-10-03 22:55:32.392795', DEFAULT), (298486374, '2022-10-03 22:55:32.392795', '2022-10-03 22:55:32.392795', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:55:32.394316', '2022-10-03 22:55:32.394316', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:55:32.394316', '2022-10-03 22:55:32.394316', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:55:32.396176', '2022-10-03 22:55:32.396176', DEFAULT), (298486374, 9.99, '2022-10-03 22:55:32.396176', '2022-10-03 22:55:32.396176', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:55:32 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------
UserTest: test_test
-------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:55:32 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:55:43.204998', '2022-10-03 22:55:43.204998', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:55:43.204998', '2022-10-03 22:55:43.204998', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:55:43.208710', '2022-10-03 22:55:43.208710', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:55:43.208710', '2022-10-03 22:55:43.208710', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:55:43.211116', '2022-10-03 22:55:43.211116', DEFAULT), (298486374, '2022-10-03 22:55:43.211116', '2022-10-03 22:55:43.211116', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:55:43.212989', '2022-10-03 22:55:43.212989', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:55:43.212989', '2022-10-03 22:55:43.212989', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:55:43.215119', '2022-10-03 22:55:43.215119', DEFAULT), (298486374, 9.99, '2022-10-03 22:55:43.215119', '2022-10-03 22:55:43.215119', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:55:43 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:55:43 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:56:45.751583', '2022-10-03 22:56:45.751583', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:56:45.751583', '2022-10-03 22:56:45.751583', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:56:45.756031', '2022-10-03 22:56:45.756031', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:56:45.756031', '2022-10-03 22:56:45.756031', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:56:45.758316', '2022-10-03 22:56:45.758316', DEFAULT), (298486374, '2022-10-03 22:56:45.758316', '2022-10-03 22:56:45.758316', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:56:45.760385', '2022-10-03 22:56:45.760385', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:56:45.760385', '2022-10-03 22:56:45.760385', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:56:45.762632', '2022-10-03 22:56:45.762632', DEFAULT), (298486374, 9.99, '2022-10-03 22:56:45.762632', '2022-10-03 22:56:45.762632', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:56:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:56:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:58:16.171706', '2022-10-03 22:58:16.171706', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:58:16.171706', '2022-10-03 22:58:16.171706', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:58:16.174639', '2022-10-03 22:58:16.174639', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:58:16.174639', '2022-10-03 22:58:16.174639', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:58:16.176803', '2022-10-03 22:58:16.176803', DEFAULT), (298486374, '2022-10-03 22:58:16.176803', '2022-10-03 22:58:16.176803', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:58:16.178519', '2022-10-03 22:58:16.178519', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:58:16.178519', '2022-10-03 22:58:16.178519', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:58:16.180377', '2022-10-03 22:58:16.180377', DEFAULT), (298486374, 9.99, '2022-10-03 22:58:16.180377', '2022-10-03 22:58:16.180377', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:58:16 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2538)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:58:16 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 22:59:29.358012', '2022-10-03 22:59:29.358012', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 22:59:29.358012', '2022-10-03 22:59:29.358012', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:59:29.361696', '2022-10-03 22:59:29.361696', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 22:59:29.361696', '2022-10-03 22:59:29.361696', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 22:59:29.363670', '2022-10-03 22:59:29.363670', DEFAULT), (298486374, '2022-10-03 22:59:29.363670', '2022-10-03 22:59:29.363670', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 22:59:29.365241', '2022-10-03 22:59:29.365241', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 22:59:29.365241', '2022-10-03 22:59:29.365241', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 22:59:29.367699', '2022-10-03 22:59:29.367699', DEFAULT), (298486374, 9.99, '2022-10-03 22:59:29.367699', '2022-10-03 22:59:29.367699', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 08:59:29 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 08:59:29 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:00:04.032350', '2022-10-03 23:00:04.032350', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:00:04.032350', '2022-10-03 23:00:04.032350', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:00:04.036047', '2022-10-03 23:00:04.036047', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:00:04.036047', '2022-10-03 23:00:04.036047', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:00:04.038329', '2022-10-03 23:00:04.038329', DEFAULT), (298486374, '2022-10-03 23:00:04.038329', '2022-10-03 23:00:04.038329', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:00:04.040584', '2022-10-03 23:00:04.040584', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:00:04.040584', '2022-10-03 23:00:04.040584', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:00:04.042726', '2022-10-03 23:00:04.042726', DEFAULT), (298486374, 9.99, '2022-10-03 23:00:04.042726', '2022-10-03 23:00:04.042726', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:00:04 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:00:04 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:00:17.118037', '2022-10-03 23:00:17.118037', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:00:17.118037', '2022-10-03 23:00:17.118037', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:00:17.121199', '2022-10-03 23:00:17.121199', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:00:17.121199', '2022-10-03 23:00:17.121199', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:00:17.123175', '2022-10-03 23:00:17.123175', DEFAULT), (298486374, '2022-10-03 23:00:17.123175', '2022-10-03 23:00:17.123175', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:00:17.124698', '2022-10-03 23:00:17.124698', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:00:17.124698', '2022-10-03 23:00:17.124698', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:00:17.126546', '2022-10-03 23:00:17.126546', DEFAULT), (298486374, 9.99, '2022-10-03 23:00:17.126546', '2022-10-03 23:00:17.126546', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:00:17 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:00:17 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:00:47.840173', '2022-10-03 23:00:47.840173', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:00:47.840173', '2022-10-03 23:00:47.840173', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:00:47.843973', '2022-10-03 23:00:47.843973', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:00:47.843973', '2022-10-03 23:00:47.843973', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:00:47.846064', '2022-10-03 23:00:47.846064', DEFAULT), (298486374, '2022-10-03 23:00:47.846064', '2022-10-03 23:00:47.846064', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:00:47.847951', '2022-10-03 23:00:47.847951', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:00:47.847951', '2022-10-03 23:00:47.847951', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:00:47.850124', '2022-10-03 23:00:47.850124', DEFAULT), (298486374, 9.99, '2022-10-03 23:00:47.850124', '2022-10-03 23:00:47.850124', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:00:47 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:00:48 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:01:02.679902', '2022-10-03 23:01:02.679902', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:01:02.679902', '2022-10-03 23:01:02.679902', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:01:02.683471', '2022-10-03 23:01:02.683471', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:01:02.683471', '2022-10-03 23:01:02.683471', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:01:02.686094', '2022-10-03 23:01:02.686094', DEFAULT), (298486374, '2022-10-03 23:01:02.686094', '2022-10-03 23:01:02.686094', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:01:02.688029', '2022-10-03 23:01:02.688029', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:01:02.688029', '2022-10-03 23:01:02.688029', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:01:02.690168', '2022-10-03 23:01:02.690168', DEFAULT), (298486374, 9.99, '2022-10-03 23:01:02.690168', '2022-10-03 23:01:02.690168', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:01:02 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:01:02 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:02:26.060376', '2022-10-03 23:02:26.060376', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:02:26.060376', '2022-10-03 23:02:26.060376', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:02:26.064096', '2022-10-03 23:02:26.064096', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:02:26.064096', '2022-10-03 23:02:26.064096', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:02:26.066089', '2022-10-03 23:02:26.066089', DEFAULT), (298486374, '2022-10-03 23:02:26.066089', '2022-10-03 23:02:26.066089', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:02:26.068154', '2022-10-03 23:02:26.068154', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:02:26.068154', '2022-10-03 23:02:26.068154', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:02:26.070570', '2022-10-03 23:02:26.070570', DEFAULT), (298486374, 9.99, '2022-10-03 23:02:26.070570', '2022-10-03 23:02:26.070570', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:02:26 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:02:26 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:02:43.642110', '2022-10-03 23:02:43.642110', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:02:43.642110', '2022-10-03 23:02:43.642110', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:02:43.645349', '2022-10-03 23:02:43.645349', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:02:43.645349', '2022-10-03 23:02:43.645349', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:02:43.647572', '2022-10-03 23:02:43.647572', DEFAULT), (298486374, '2022-10-03 23:02:43.647572', '2022-10-03 23:02:43.647572', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:02:43.649290', '2022-10-03 23:02:43.649290', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:02:43.649290', '2022-10-03 23:02:43.649290', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:02:43.651896', '2022-10-03 23:02:43.651896', DEFAULT), (298486374, 9.99, '2022-10-03 23:02:43.651896', '2022-10-03 23:02:43.651896', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:02:43 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:02:43 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
OrderItemTest: test_can_update_a_order_items
--------------------------------------------
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:04:48.999901', '2022-10-03 23:04:48.999901', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:04:48.999901', '2022-10-03 23:04:48.999901', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:04:49.003560', '2022-10-03 23:04:49.003560', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:04:49.003560', '2022-10-03 23:04:49.003560', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:04:49.005514', '2022-10-03 23:04:49.005514', DEFAULT), (298486374, '2022-10-03 23:04:49.005514', '2022-10-03 23:04:49.005514', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:04:49.007609', '2022-10-03 23:04:49.007609', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:04:49.007609', '2022-10-03 23:04:49.007609', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:04:49.010916', '2022-10-03 23:04:49.010916', DEFAULT), (298486374, 9.99, '2022-10-03 23:04:49.010916', '2022-10-03 23:04:49.010916', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:04:49 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:04:49 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
Started POST "/login.one" for 127.0.0.1 at 2022-10-04 09:04:49 +1000
Processing by SessionsController#create as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 735)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:07:45.457086', '2022-10-03 23:07:45.457086', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:07:45.457086', '2022-10-03 23:07:45.457086', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:07:45.460236', '2022-10-03 23:07:45.460236', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:07:45.460236', '2022-10-03 23:07:45.460236', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:07:45.462616', '2022-10-03 23:07:45.462616', DEFAULT), (298486374, '2022-10-03 23:07:45.462616', '2022-10-03 23:07:45.462616', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:07:45.464336', '2022-10-03 23:07:45.464336', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:07:45.464336', '2022-10-03 23:07:45.464336', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:07:45.466548', '2022-10-03 23:07:45.466548', DEFAULT), (298486374, 9.99, '2022-10-03 23:07:45.466548', '2022-10-03 23:07:45.466548', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:07:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:07:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:08:13.712362', '2022-10-03 23:08:13.712362', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:08:13.712362', '2022-10-03 23:08:13.712362', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:08:13.715418', '2022-10-03 23:08:13.715418', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:08:13.715418', '2022-10-03 23:08:13.715418', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:08:13.717298', '2022-10-03 23:08:13.717298', DEFAULT), (298486374, '2022-10-03 23:08:13.717298', '2022-10-03 23:08:13.717298', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:08:13.719070', '2022-10-03 23:08:13.719070', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:08:13.719070', '2022-10-03 23:08:13.719070', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:08:13.721224', '2022-10-03 23:08:13.721224', DEFAULT), (298486374, 9.99, '2022-10-03 23:08:13.721224', '2022-10-03 23:08:13.721224', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:08:13 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:08:13 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
Started GET "/login" for 127.0.0.1 at 2022-10-04 09:08:13 +1000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:08:37.003295', '2022-10-03 23:08:37.003295', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:08:37.003295', '2022-10-03 23:08:37.003295', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:08:37.007064', '2022-10-03 23:08:37.007064', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:08:37.007064', '2022-10-03 23:08:37.007064', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:08:37.009290', '2022-10-03 23:08:37.009290', DEFAULT), (298486374, '2022-10-03 23:08:37.009290', '2022-10-03 23:08:37.009290', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:08:37.011070', '2022-10-03 23:08:37.011070', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:08:37.011070', '2022-10-03 23:08:37.011070', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:08:37.013286', '2022-10-03 23:08:37.013286', DEFAULT), (298486374, 9.99, '2022-10-03 23:08:37.013286', '2022-10-03 23:08:37.013286', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:08:37 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:08:37 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:09:04.514142', '2022-10-03 23:09:04.514142', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:09:04.514142', '2022-10-03 23:09:04.514142', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:09:04.517594', '2022-10-03 23:09:04.517594', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:09:04.517594', '2022-10-03 23:09:04.517594', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:09:04.519740', '2022-10-03 23:09:04.519740', DEFAULT), (298486374, '2022-10-03 23:09:04.519740', '2022-10-03 23:09:04.519740', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:09:04.521384', '2022-10-03 23:09:04.521384', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:09:04.521384', '2022-10-03 23:09:04.521384', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:09:04.523246', '2022-10-03 23:09:04.523246', DEFAULT), (298486374, 9.99, '2022-10-03 23:09:04.523246', '2022-10-03 23:09:04.523246', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testemail@"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:09:04 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:09:04 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:12:40.193801', '2022-10-03 23:12:40.193801', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:12:40.193801', '2022-10-03 23:12:40.193801', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:12:40.197314', '2022-10-03 23:12:40.197314', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:12:40.197314', '2022-10-03 23:12:40.197314', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:12:40.199126', '2022-10-03 23:12:40.199126', DEFAULT), (298486374, '2022-10-03 23:12:40.199126', '2022-10-03 23:12:40.199126', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:12:40.200553', '2022-10-03 23:12:40.200553', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:12:40.200553', '2022-10-03 23:12:40.200553', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:12:40.202449', '2022-10-03 23:12:40.202449', DEFAULT), (298486374, 9.99, '2022-10-03 23:12:40.202449', '2022-10-03 23:12:40.202449', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:12:40 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:12:40 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
Started POST "/login" for 127.0.0.1 at 2022-10-04 09:12:40 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"email@test", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 735)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:13:02.526182', '2022-10-03 23:13:02.526182', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:13:02.526182', '2022-10-03 23:13:02.526182', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:13:02.529708', '2022-10-03 23:13:02.529708', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:13:02.529708', '2022-10-03 23:13:02.529708', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:13:02.531813', '2022-10-03 23:13:02.531813', DEFAULT), (298486374, '2022-10-03 23:13:02.531813', '2022-10-03 23:13:02.531813', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:13:02.533439', '2022-10-03 23:13:02.533439', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:13:02.533439', '2022-10-03 23:13:02.533439', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:13:02.535545', '2022-10-03 23:13:02.535545', DEFAULT), (298486374, 9.99, '2022-10-03 23:13:02.535545', '2022-10-03 23:13:02.535545', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
Started POST "/login" for 127.0.0.1 at 2022-10-04 09:13:02 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"email@test", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 3050)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:13:02 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 224)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:13:02 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:18:14.263840', '2022-10-03 23:18:14.263840', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:18:14.263840', '2022-10-03 23:18:14.263840', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:18:14.269423', '2022-10-03 23:18:14.269423', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:18:14.269423', '2022-10-03 23:18:14.269423', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:18:14.271857', '2022-10-03 23:18:14.271857', DEFAULT), (298486374, '2022-10-03 23:18:14.271857', '2022-10-03 23:18:14.271857', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:18:14.274300', '2022-10-03 23:18:14.274300', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:18:14.274300', '2022-10-03 23:18:14.274300', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:18:14.276682', '2022-10-03 23:18:14.276682', DEFAULT), (298486374, 9.99, '2022-10-03 23:18:14.276682', '2022-10-03 23:18:14.276682', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:18:14 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
SessionsControllerTest: test_login_path
---------------------------------------
Started POST "/login" for 127.0.0.1 at 2022-10-04 09:18:14 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"Maxime830@live.fr", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 734)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:18:14 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:21:42.926635', '2022-10-03 23:21:42.926635', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:21:42.926635', '2022-10-03 23:21:42.926635', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:21:42.930550', '2022-10-03 23:21:42.930550', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:21:42.930550', '2022-10-03 23:21:42.930550', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:21:42.932892', '2022-10-03 23:21:42.932892', DEFAULT), (298486374, '2022-10-03 23:21:42.932892', '2022-10-03 23:21:42.932892', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:21:42.934487', '2022-10-03 23:21:42.934487', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:21:42.934487', '2022-10-03 23:21:42.934487', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:21:42.936367', '2022-10-03 23:21:42.936367', DEFAULT), (298486374, 9.99, '2022-10-03 23:21:42.936367', '2022-10-03 23:21:42.936367', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:21:43 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:21:43 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:41:21.864927', '2022-10-03 23:41:21.864927', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:41:21.864927', '2022-10-03 23:41:21.864927', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:41:21.868347', '2022-10-03 23:41:21.868347', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:41:21.868347', '2022-10-03 23:41:21.868347', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:41:21.870447', '2022-10-03 23:41:21.870447', DEFAULT), (298486374, '2022-10-03 23:41:21.870447', '2022-10-03 23:41:21.870447', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:41:21.872359', '2022-10-03 23:41:21.872359', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:41:21.872359', '2022-10-03 23:41:21.872359', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:41:21.875186', '2022-10-03 23:41:21.875186', DEFAULT), (298486374, 9.99, '2022-10-03 23:41:21.875186', '2022-10-03 23:41:21.875186', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:41:21 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:41:22 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:41:41.450385', '2022-10-03 23:41:41.450385', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:41:41.450385', '2022-10-03 23:41:41.450385', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:41:41.454534', '2022-10-03 23:41:41.454534', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:41:41.454534', '2022-10-03 23:41:41.454534', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:41:41.456939', '2022-10-03 23:41:41.456939', DEFAULT), (298486374, '2022-10-03 23:41:41.456939', '2022-10-03 23:41:41.456939', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:41:41.459269', '2022-10-03 23:41:41.459269', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:41:41.459269', '2022-10-03 23:41:41.459269', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:41:41.461329', '2022-10-03 23:41:41.461329', DEFAULT), (298486374, 9.99, '2022-10-03 23:41:41.461329', '2022-10-03 23:41:41.461329', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:41:41 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:41:41 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-03 23:41:41.603088"], ["updated_at", "2022-10-03 23:41:41.603088"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:41:55.624214', '2022-10-03 23:41:55.624214', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:41:55.624214', '2022-10-03 23:41:55.624214', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:41:55.627730', '2022-10-03 23:41:55.627730', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:41:55.627730', '2022-10-03 23:41:55.627730', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:41:55.629629', '2022-10-03 23:41:55.629629', DEFAULT), (298486374, '2022-10-03 23:41:55.629629', '2022-10-03 23:41:55.629629', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:41:55.631195', '2022-10-03 23:41:55.631195', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:41:55.631195', '2022-10-03 23:41:55.631195', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:41:55.633221', '2022-10-03 23:41:55.633221', DEFAULT), (298486374, 9.99, '2022-10-03 23:41:55.633221', '2022-10-03 23:41:55.633221', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:41:55 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:41:55 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-03 23:41:55.778489"], ["updated_at", "2022-10-03 23:41:55.778489"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:45:37.914964', '2022-10-03 23:45:37.914964', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:45:37.914964', '2022-10-03 23:45:37.914964', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:45:37.918813', '2022-10-03 23:45:37.918813', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:45:37.918813', '2022-10-03 23:45:37.918813', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:45:37.922044', '2022-10-03 23:45:37.922044', DEFAULT), (298486374, '2022-10-03 23:45:37.922044', '2022-10-03 23:45:37.922044', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:45:37.926312', '2022-10-03 23:45:37.926312', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:45:37.926312', '2022-10-03 23:45:37.926312', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:45:37.930059', '2022-10-03 23:45:37.930059', DEFAULT), (298486374, 9.99, '2022-10-03 23:45:37.930059', '2022-10-03 23:45:37.930059', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:45:38 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:45:38 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:46:08.418702', '2022-10-03 23:46:08.418702', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:46:08.418702', '2022-10-03 23:46:08.418702', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:46:08.422513', '2022-10-03 23:46:08.422513', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:46:08.422513', '2022-10-03 23:46:08.422513', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:46:08.424504', '2022-10-03 23:46:08.424504', DEFAULT), (298486374, '2022-10-03 23:46:08.424504', '2022-10-03 23:46:08.424504', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:46:08.426054', '2022-10-03 23:46:08.426054', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:46:08.426054', '2022-10-03 23:46:08.426054', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:46:08.428508', '2022-10-03 23:46:08.428508', DEFAULT), (298486374, 9.99, '2022-10-03 23:46:08.428508', '2022-10-03 23:46:08.428508', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:46:08 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:46:08 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-03 23:46:08.578444"], ["updated_at", "2022-10-03 23:46:08.578444"], ["manager", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:46:21.199613', '2022-10-03 23:46:21.199613', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:46:21.199613', '2022-10-03 23:46:21.199613', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:46:21.202739', '2022-10-03 23:46:21.202739', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:46:21.202739', '2022-10-03 23:46:21.202739', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:46:21.204756', '2022-10-03 23:46:21.204756', DEFAULT), (298486374, '2022-10-03 23:46:21.204756', '2022-10-03 23:46:21.204756', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:46:21.206610', '2022-10-03 23:46:21.206610', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:46:21.206610', '2022-10-03 23:46:21.206610', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:46:21.208740', '2022-10-03 23:46:21.208740', DEFAULT), (298486374, 9.99, '2022-10-03 23:46:21.208740', '2022-10-03 23:46:21.208740', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:46:21 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-03 23:46:21.341702"], ["updated_at", "2022-10-03 23:46:21.341702"], ["manager", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:46:21 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:49:00.497721', '2022-10-03 23:49:00.497721', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:49:00.497721', '2022-10-03 23:49:00.497721', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:49:00.502233', '2022-10-03 23:49:00.502233', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:49:00.502233', '2022-10-03 23:49:00.502233', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:49:00.504233', '2022-10-03 23:49:00.504233', DEFAULT), (298486374, '2022-10-03 23:49:00.504233', '2022-10-03 23:49:00.504233', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:49:00.506117', '2022-10-03 23:49:00.506117', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:49:00.506117', '2022-10-03 23:49:00.506117', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:49:00.508371', '2022-10-03 23:49:00.508371', DEFAULT), (298486374, 9.99, '2022-10-03 23:49:00.508371', '2022-10-03 23:49:00.508371', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:49:00 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:49:00 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:49:30.553009', '2022-10-03 23:49:30.553009', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:49:30.553009', '2022-10-03 23:49:30.553009', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:49:30.556666', '2022-10-03 23:49:30.556666', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:49:30.556666', '2022-10-03 23:49:30.556666', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:49:30.558719', '2022-10-03 23:49:30.558719', DEFAULT), (298486374, '2022-10-03 23:49:30.558719', '2022-10-03 23:49:30.558719', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:49:30.560259', '2022-10-03 23:49:30.560259', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:49:30.560259', '2022-10-03 23:49:30.560259', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:49:30.562354', '2022-10-03 23:49:30.562354', DEFAULT), (298486374, 9.99, '2022-10-03 23:49:30.562354', '2022-10-03 23:49:30.562354', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:49:30 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:49:30 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:49:42.293999', '2022-10-03 23:49:42.293999', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:49:42.293999', '2022-10-03 23:49:42.293999', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:49:42.297032', '2022-10-03 23:49:42.297032', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:49:42.297032', '2022-10-03 23:49:42.297032', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:49:42.299383', '2022-10-03 23:49:42.299383', DEFAULT), (298486374, '2022-10-03 23:49:42.299383', '2022-10-03 23:49:42.299383', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:49:42.301064', '2022-10-03 23:49:42.301064', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:49:42.301064', '2022-10-03 23:49:42.301064', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:49:42.303574', '2022-10-03 23:49:42.303574', DEFAULT), (298486374, 9.99, '2022-10-03 23:49:42.303574', '2022-10-03 23:49:42.303574', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:49:42 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:49:42 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:50:03.249556', '2022-10-03 23:50:03.249556', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:50:03.249556', '2022-10-03 23:50:03.249556', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:50:03.253882', '2022-10-03 23:50:03.253882', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:50:03.253882', '2022-10-03 23:50:03.253882', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:50:03.256923', '2022-10-03 23:50:03.256923', DEFAULT), (298486374, '2022-10-03 23:50:03.256923', '2022-10-03 23:50:03.256923', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:50:03.258973', '2022-10-03 23:50:03.258973', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:50:03.258973', '2022-10-03 23:50:03.258973', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:50:03.261207', '2022-10-03 23:50:03.261207', DEFAULT), (298486374, 9.99, '2022-10-03 23:50:03.261207', '2022-10-03 23:50:03.261207', DEFAULT)[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:50:03 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:50:03 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:50:27.518959', '2022-10-03 23:50:27.518959', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:50:27.518959', '2022-10-03 23:50:27.518959', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:50:27.522674', '2022-10-03 23:50:27.522674', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:50:27.522674', '2022-10-03 23:50:27.522674', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:50:27.524605', '2022-10-03 23:50:27.524605', DEFAULT), (298486374, '2022-10-03 23:50:27.524605', '2022-10-03 23:50:27.524605', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:50:27.526167', '2022-10-03 23:50:27.526167', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:50:27.526167', '2022-10-03 23:50:27.526167', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:50:27.528202', '2022-10-03 23:50:27.528202', DEFAULT), (298486374, 9.99, '2022-10-03 23:50:27.528202', '2022-10-03 23:50:27.528202', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:50:27 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:50:27 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:50:51.540350', '2022-10-03 23:50:51.540350', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:50:51.540350', '2022-10-03 23:50:51.540350', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:50:51.544046', '2022-10-03 23:50:51.544046', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:50:51.544046', '2022-10-03 23:50:51.544046', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:50:51.545980', '2022-10-03 23:50:51.545980', DEFAULT), (298486374, '2022-10-03 23:50:51.545980', '2022-10-03 23:50:51.545980', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:50:51.547469', '2022-10-03 23:50:51.547469', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:50:51.547469', '2022-10-03 23:50:51.547469', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:50:51.549637', '2022-10-03 23:50:51.549637', DEFAULT), (298486374, 9.99, '2022-10-03 23:50:51.549637', '2022-10-03 23:50:51.549637', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:50:51 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:50:51 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:51:03.620208', '2022-10-03 23:51:03.620208', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:51:03.620208', '2022-10-03 23:51:03.620208', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:51:03.623990', '2022-10-03 23:51:03.623990', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:51:03.623990', '2022-10-03 23:51:03.623990', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:51:03.626473', '2022-10-03 23:51:03.626473', DEFAULT), (298486374, '2022-10-03 23:51:03.626473', '2022-10-03 23:51:03.626473', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:51:03.628045', '2022-10-03 23:51:03.628045', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:51:03.628045', '2022-10-03 23:51:03.628045', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:51:03.629963', '2022-10-03 23:51:03.629963', DEFAULT), (298486374, 9.99, '2022-10-03 23:51:03.629963', '2022-10-03 23:51:03.629963', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:51:03 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:51:03 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-03 23:55:44.441083', '2022-10-03 23:55:44.441083', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-03 23:55:44.441083', '2022-10-03 23:55:44.441083', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:55:44.444794', '2022-10-03 23:55:44.444794', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-03 23:55:44.444794', '2022-10-03 23:55:44.444794', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-03 23:55:44.446697', '2022-10-03 23:55:44.446697', DEFAULT), (298486374, '2022-10-03 23:55:44.446697', '2022-10-03 23:55:44.446697', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-03 23:55:44.448627', '2022-10-03 23:55:44.448627', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-03 23:55:44.448627', '2022-10-03 23:55:44.448627', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-03 23:55:44.450881', '2022-10-03 23:55:44.450881', DEFAULT), (298486374, 9.99, '2022-10-03 23:55:44.450881', '2022-10-03 23:55:44.450881', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 09:55:44 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 09:55:44 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 00:06:42.479359', '2022-10-04 00:06:42.479359', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 00:06:42.479359', '2022-10-04 00:06:42.479359', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 00:06:42.482524', '2022-10-04 00:06:42.482524', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 00:06:42.482524', '2022-10-04 00:06:42.482524', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 00:06:42.484550', '2022-10-04 00:06:42.484550', DEFAULT), (298486374, '2022-10-04 00:06:42.484550', '2022-10-04 00:06:42.484550', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 00:06:42.486070', '2022-10-04 00:06:42.486070', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 00:06:42.486070', '2022-10-04 00:06:42.486070', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 00:06:42.487863', '2022-10-04 00:06:42.487863', DEFAULT), (298486374, 9.99, '2022-10-04 00:06:42.487863', '2022-10-04 00:06:42.487863', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 10:06:42 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "TESTEMAIL@EMAIL"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-04 00:06:42.621384"], ["updated_at", "2022-10-04 00:06:42.621384"], ["manager", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 10:06:42 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:35:57.283803', '2022-10-04 03:35:57.283803', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:35:57.283803', '2022-10-04 03:35:57.283803', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:35:57.287728', '2022-10-04 03:35:57.287728', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:35:57.287728', '2022-10-04 03:35:57.287728', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:35:57.290069', '2022-10-04 03:35:57.290069', DEFAULT), (298486374, '2022-10-04 03:35:57.290069', '2022-10-04 03:35:57.290069', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:35:57.292254', '2022-10-04 03:35:57.292254', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:35:57.292254', '2022-10-04 03:35:57.292254', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:35:57.294736', '2022-10-04 03:35:57.294736', DEFAULT), (298486374, 9.99, '2022-10-04 03:35:57.294736', '2022-10-04 03:35:57.294736', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "TESTEMAIL@EMAIL"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-04 03:35:57.325710"], ["updated_at", "2022-10-04 03:35:57.325710"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:35:57 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:35:57 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:39:19.826579', '2022-10-04 03:39:19.826579', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:39:19.826579', '2022-10-04 03:39:19.826579', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:39:19.830331', '2022-10-04 03:39:19.830331', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:39:19.830331', '2022-10-04 03:39:19.830331', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:39:19.832940', '2022-10-04 03:39:19.832940', DEFAULT), (298486374, '2022-10-04 03:39:19.832940', '2022-10-04 03:39:19.832940', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:39:19.835008', '2022-10-04 03:39:19.835008', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:39:19.835008', '2022-10-04 03:39:19.835008', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:39:19.837380', '2022-10-04 03:39:19.837380', DEFAULT), (298486374, 9.99, '2022-10-04 03:39:19.837380', '2022-10-04 03:39:19.837380', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:39:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:39:20 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:39:50.660576', '2022-10-04 03:39:50.660576', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:39:50.660576', '2022-10-04 03:39:50.660576', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:39:50.664114', '2022-10-04 03:39:50.664114', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:39:50.664114', '2022-10-04 03:39:50.664114', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:39:50.666156', '2022-10-04 03:39:50.666156', DEFAULT), (298486374, '2022-10-04 03:39:50.666156', '2022-10-04 03:39:50.666156', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:39:50.667802', '2022-10-04 03:39:50.667802', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:39:50.667802', '2022-10-04 03:39:50.667802', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:39:50.669801', '2022-10-04 03:39:50.669801', DEFAULT), (298486374, 9.99, '2022-10-04 03:39:50.669801', '2022-10-04 03:39:50.669801', DEFAULT)[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:39:50 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:39:50 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:41:50.452993', '2022-10-04 03:41:50.452993', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:41:50.452993', '2022-10-04 03:41:50.452993', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:41:50.456127', '2022-10-04 03:41:50.456127', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:41:50.456127', '2022-10-04 03:41:50.456127', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:41:50.458420', '2022-10-04 03:41:50.458420', DEFAULT), (298486374, '2022-10-04 03:41:50.458420', '2022-10-04 03:41:50.458420', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:41:50.459985', '2022-10-04 03:41:50.459985', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:41:50.459985', '2022-10-04 03:41:50.459985', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:41:50.461770', '2022-10-04 03:41:50.461770', DEFAULT), (298486374, 9.99, '2022-10-04 03:41:50.461770', '2022-10-04 03:41:50.461770', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:41:50 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:41:50 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:42:11.209390', '2022-10-04 03:42:11.209390', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:42:11.209390', '2022-10-04 03:42:11.209390', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:42:11.212587', '2022-10-04 03:42:11.212587', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:42:11.212587', '2022-10-04 03:42:11.212587', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:42:11.215086', '2022-10-04 03:42:11.215086', DEFAULT), (298486374, '2022-10-04 03:42:11.215086', '2022-10-04 03:42:11.215086', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:42:11.216965', '2022-10-04 03:42:11.216965', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:42:11.216965', '2022-10-04 03:42:11.216965', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:42:11.219288', '2022-10-04 03:42:11.219288', DEFAULT), (298486374, 9.99, '2022-10-04 03:42:11.219288', '2022-10-04 03:42:11.219288', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:42:11 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:42:11 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:42:40.721355', '2022-10-04 03:42:40.721355', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:42:40.721355', '2022-10-04 03:42:40.721355', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:42:40.724903', '2022-10-04 03:42:40.724903', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:42:40.724903', '2022-10-04 03:42:40.724903', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:42:40.726850', '2022-10-04 03:42:40.726850', DEFAULT), (298486374, '2022-10-04 03:42:40.726850', '2022-10-04 03:42:40.726850', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:42:40.728526', '2022-10-04 03:42:40.728526', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:42:40.728526', '2022-10-04 03:42:40.728526', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:42:40.730462', '2022-10-04 03:42:40.730462', DEFAULT), (298486374, 9.99, '2022-10-04 03:42:40.730462', '2022-10-04 03:42:40.730462', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:42:40 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:42:40 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:44:46.370042', '2022-10-04 03:44:46.370042', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:44:46.370042', '2022-10-04 03:44:46.370042', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:44:46.373220', '2022-10-04 03:44:46.373220', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:44:46.373220', '2022-10-04 03:44:46.373220', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:44:46.375033', '2022-10-04 03:44:46.375033', DEFAULT), (298486374, '2022-10-04 03:44:46.375033', '2022-10-04 03:44:46.375033', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:44:46.376846', '2022-10-04 03:44:46.376846', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:44:46.376846', '2022-10-04 03:44:46.376846', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:44:46.378778', '2022-10-04 03:44:46.378778', DEFAULT), (298486374, 9.99, '2022-10-04 03:44:46.378778', '2022-10-04 03:44:46.378778', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:44:46 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:44:46 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:45:08.626359', '2022-10-04 03:45:08.626359', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:45:08.626359', '2022-10-04 03:45:08.626359', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:45:08.629788', '2022-10-04 03:45:08.629788', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:45:08.629788', '2022-10-04 03:45:08.629788', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:45:08.631849', '2022-10-04 03:45:08.631849', DEFAULT), (298486374, '2022-10-04 03:45:08.631849', '2022-10-04 03:45:08.631849', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:45:08.633572', '2022-10-04 03:45:08.633572', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:45:08.633572', '2022-10-04 03:45:08.633572', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:45:08.635838', '2022-10-04 03:45:08.635838', DEFAULT), (298486374, 9.99, '2022-10-04 03:45:08.635838', '2022-10-04 03:45:08.635838', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:45:08 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:45:08 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:45:18.283340', '2022-10-04 03:45:18.283340', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:45:18.283340', '2022-10-04 03:45:18.283340', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:45:18.287164', '2022-10-04 03:45:18.287164', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:45:18.287164', '2022-10-04 03:45:18.287164', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:45:18.289188', '2022-10-04 03:45:18.289188', DEFAULT), (298486374, '2022-10-04 03:45:18.289188', '2022-10-04 03:45:18.289188', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:45:18.290883', '2022-10-04 03:45:18.290883', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:45:18.290883', '2022-10-04 03:45:18.290883', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:45:18.292905', '2022-10-04 03:45:18.292905', DEFAULT), (298486374, 9.99, '2022-10-04 03:45:18.292905', '2022-10-04 03:45:18.292905', DEFAULT)[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:45:18 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:45:18 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:45:46.271553', '2022-10-04 03:45:46.271553', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:45:46.271553', '2022-10-04 03:45:46.271553', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:45:46.275060', '2022-10-04 03:45:46.275060', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:45:46.275060', '2022-10-04 03:45:46.275060', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:45:46.277063', '2022-10-04 03:45:46.277063', DEFAULT), (298486374, '2022-10-04 03:45:46.277063', '2022-10-04 03:45:46.277063', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:45:46.278753', '2022-10-04 03:45:46.278753', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:45:46.278753', '2022-10-04 03:45:46.278753', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:45:46.281421', '2022-10-04 03:45:46.281421', DEFAULT), (298486374, 9.99, '2022-10-04 03:45:46.281421', '2022-10-04 03:45:46.281421', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:45:46 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-04 03:45:46.415084"], ["updated_at", "2022-10-04 03:45:46.415084"], ["manager", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:45:46 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:46:26.207474', '2022-10-04 03:46:26.207474', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:46:26.207474', '2022-10-04 03:46:26.207474', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:46:26.210828', '2022-10-04 03:46:26.210828', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:46:26.210828', '2022-10-04 03:46:26.210828', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:46:26.212752', '2022-10-04 03:46:26.212752', DEFAULT), (298486374, '2022-10-04 03:46:26.212752', '2022-10-04 03:46:26.212752', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:46:26.214271', '2022-10-04 03:46:26.214271', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:46:26.214271', '2022-10-04 03:46:26.214271', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:46:26.216086', '2022-10-04 03:46:26.216086', DEFAULT), (298486374, 9.99, '2022-10-04 03:46:26.216086', '2022-10-04 03:46:26.216086', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-04 03:46:26.243480"], ["updated_at", "2022-10-04 03:46:26.243480"], ["manager", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:46:26 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:46:26 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:46:39.035857', '2022-10-04 03:46:39.035857', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:46:39.035857', '2022-10-04 03:46:39.035857', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:46:39.039370', '2022-10-04 03:46:39.039370', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:46:39.039370', '2022-10-04 03:46:39.039370', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:46:39.041206', '2022-10-04 03:46:39.041206', DEFAULT), (298486374, '2022-10-04 03:46:39.041206', '2022-10-04 03:46:39.041206', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:46:39.042742', '2022-10-04 03:46:39.042742', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:46:39.042742', '2022-10-04 03:46:39.042742', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:46:39.044817', '2022-10-04 03:46:39.044817', DEFAULT), (298486374, 9.99, '2022-10-04 03:46:39.044817', '2022-10-04 03:46:39.044817', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:46:39 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:46:39 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "Testemail@email"], ["password_digest", "[FILTERED]"], ["first_name", "John"], ["last_name", "Bob"], ["created_at", "2022-10-04 03:46:39.189519"], ["updated_at", "2022-10-04 03:46:39.189519"], ["manager", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:46:52.290380', '2022-10-04 03:46:52.290380', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:46:52.290380', '2022-10-04 03:46:52.290380', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:46:52.293398', '2022-10-04 03:46:52.293398', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:46:52.293398', '2022-10-04 03:46:52.293398', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:46:52.295792', '2022-10-04 03:46:52.295792', DEFAULT), (298486374, '2022-10-04 03:46:52.295792', '2022-10-04 03:46:52.295792', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:46:52.297350', '2022-10-04 03:46:52.297350', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:46:52.297350', '2022-10-04 03:46:52.297350', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:46:52.299281', '2022-10-04 03:46:52.299281', DEFAULT), (298486374, 9.99, '2022-10-04 03:46:52.299281', '2022-10-04 03:46:52.299281', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:46:52 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:46:52 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:47:31.394949', '2022-10-04 03:47:31.394949', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:47:31.394949', '2022-10-04 03:47:31.394949', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:47:31.399708', '2022-10-04 03:47:31.399708', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:47:31.399708', '2022-10-04 03:47:31.399708', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:47:31.402128', '2022-10-04 03:47:31.402128', DEFAULT), (298486374, '2022-10-04 03:47:31.402128', '2022-10-04 03:47:31.402128', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:47:31.404039', '2022-10-04 03:47:31.404039', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:47:31.404039', '2022-10-04 03:47:31.404039', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:47:31.406703', '2022-10-04 03:47:31.406703', DEFAULT), (298486374, 9.99, '2022-10-04 03:47:31.406703', '2022-10-04 03:47:31.406703', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:47:31 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:47:31 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:47:40.098833', '2022-10-04 03:47:40.098833', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:47:40.098833', '2022-10-04 03:47:40.098833', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:47:40.102620', '2022-10-04 03:47:40.102620', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:47:40.102620', '2022-10-04 03:47:40.102620', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:47:40.104966', '2022-10-04 03:47:40.104966', DEFAULT), (298486374, '2022-10-04 03:47:40.104966', '2022-10-04 03:47:40.104966', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:47:40.107165', '2022-10-04 03:47:40.107165', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:47:40.107165', '2022-10-04 03:47:40.107165', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:47:40.109313', '2022-10-04 03:47:40.109313', DEFAULT), (298486374, 9.99, '2022-10-04 03:47:40.109313', '2022-10-04 03:47:40.109313', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:47:40 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:47:40 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:48:32.431617', '2022-10-04 03:48:32.431617', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:48:32.431617', '2022-10-04 03:48:32.431617', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:48:32.435111', '2022-10-04 03:48:32.435111', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:48:32.435111', '2022-10-04 03:48:32.435111', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:48:32.436980', '2022-10-04 03:48:32.436980', DEFAULT), (298486374, '2022-10-04 03:48:32.436980', '2022-10-04 03:48:32.436980', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:48:32.438540', '2022-10-04 03:48:32.438540', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:48:32.438540', '2022-10-04 03:48:32.438540', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:48:32.440444', '2022-10-04 03:48:32.440444', DEFAULT), (298486374, 9.99, '2022-10-04 03:48:32.440444', '2022-10-04 03:48:32.440444', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:48:32 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:48:32 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:48:46.099975', '2022-10-04 03:48:46.099975', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:48:46.099975', '2022-10-04 03:48:46.099975', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:48:46.104565', '2022-10-04 03:48:46.104565', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:48:46.104565', '2022-10-04 03:48:46.104565', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:48:46.106717', '2022-10-04 03:48:46.106717', DEFAULT), (298486374, '2022-10-04 03:48:46.106717', '2022-10-04 03:48:46.106717', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:48:46.109230', '2022-10-04 03:48:46.109230', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:48:46.109230', '2022-10-04 03:48:46.109230', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:48:46.111641', '2022-10-04 03:48:46.111641', DEFAULT), (298486374, 9.99, '2022-10-04 03:48:46.111641', '2022-10-04 03:48:46.111641', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:48:46 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:48:46 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:48:56.404781', '2022-10-04 03:48:56.404781', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:48:56.404781', '2022-10-04 03:48:56.404781', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:48:56.408339', '2022-10-04 03:48:56.408339', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:48:56.408339', '2022-10-04 03:48:56.408339', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:48:56.410290', '2022-10-04 03:48:56.410290', DEFAULT), (298486374, '2022-10-04 03:48:56.410290', '2022-10-04 03:48:56.410290', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:48:56.411927', '2022-10-04 03:48:56.411927', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:48:56.411927', '2022-10-04 03:48:56.411927', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:48:56.414022', '2022-10-04 03:48:56.414022', DEFAULT), (298486374, 9.99, '2022-10-04 03:48:56.414022', '2022-10-04 03:48:56.414022', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:48:56 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:48:56 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:49:12.201602', '2022-10-04 03:49:12.201602', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:49:12.201602', '2022-10-04 03:49:12.201602', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:49:12.204785', '2022-10-04 03:49:12.204785', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:49:12.204785', '2022-10-04 03:49:12.204785', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:49:12.207140', '2022-10-04 03:49:12.207140', DEFAULT), (298486374, '2022-10-04 03:49:12.207140', '2022-10-04 03:49:12.207140', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:49:12.208675', '2022-10-04 03:49:12.208675', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:49:12.208675', '2022-10-04 03:49:12.208675', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:49:12.210610', '2022-10-04 03:49:12.210610', DEFAULT), (298486374, 9.99, '2022-10-04 03:49:12.210610', '2022-10-04 03:49:12.210610', DEFAULT)[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:49:12 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:49:12 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:49:23.770934', '2022-10-04 03:49:23.770934', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:49:23.770934', '2022-10-04 03:49:23.770934', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:49:23.774207', '2022-10-04 03:49:23.774207', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:49:23.774207', '2022-10-04 03:49:23.774207', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:49:23.776462', '2022-10-04 03:49:23.776462', DEFAULT), (298486374, '2022-10-04 03:49:23.776462', '2022-10-04 03:49:23.776462', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:49:23.778129', '2022-10-04 03:49:23.778129', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:49:23.778129', '2022-10-04 03:49:23.778129', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:49:23.780137', '2022-10-04 03:49:23.780137', DEFAULT), (298486374, 9.99, '2022-10-04 03:49:23.780137', '2022-10-04 03:49:23.780137', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:49:23 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:49:23 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:49:35.187100', '2022-10-04 03:49:35.187100', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:49:35.187100', '2022-10-04 03:49:35.187100', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:49:35.190233', '2022-10-04 03:49:35.190233', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:49:35.190233', '2022-10-04 03:49:35.190233', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:49:35.192321', '2022-10-04 03:49:35.192321', DEFAULT), (298486374, '2022-10-04 03:49:35.192321', '2022-10-04 03:49:35.192321', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:49:35.193894', '2022-10-04 03:49:35.193894', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:49:35.193894', '2022-10-04 03:49:35.193894', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:49:35.195759', '2022-10-04 03:49:35.195759', DEFAULT), (298486374, 9.99, '2022-10-04 03:49:35.195759', '2022-10-04 03:49:35.195759', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:49:35 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:49:35 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 03:50:09.591722', '2022-10-04 03:50:09.591722', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 03:50:09.591722', '2022-10-04 03:50:09.591722', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:50:09.594979', '2022-10-04 03:50:09.594979', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 03:50:09.594979', '2022-10-04 03:50:09.594979', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 03:50:09.597260', '2022-10-04 03:50:09.597260', DEFAULT), (298486374, '2022-10-04 03:50:09.597260', '2022-10-04 03:50:09.597260', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 03:50:09.599016', '2022-10-04 03:50:09.599016', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 03:50:09.599016', '2022-10-04 03:50:09.599016', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 03:50:09.601685', '2022-10-04 03:50:09.601685', DEFAULT), (298486374, 9.99, '2022-10-04 03:50:09.601685', '2022-10-04 03:50:09.601685', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 13:50:09 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 13:50:09 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:01:03.698266', '2022-10-04 05:01:03.698266', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:01:03.698266', '2022-10-04 05:01:03.698266', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:01:03.702900', '2022-10-04 05:01:03.702900', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:01:03.702900', '2022-10-04 05:01:03.702900', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:01:03.705973', '2022-10-04 05:01:03.705973', DEFAULT), (298486374, '2022-10-04 05:01:03.705973', '2022-10-04 05:01:03.705973', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:01:03.708289', '2022-10-04 05:01:03.708289', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:01:03.708289', '2022-10-04 05:01:03.708289', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:01:03.710894', '2022-10-04 05:01:03.710894', DEFAULT), (298486374, 9.99, '2022-10-04 05:01:03.710894', '2022-10-04 05:01:03.710894', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:01:03 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:01:03 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:04:01.015900', '2022-10-04 05:04:01.015900', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:04:01.015900', '2022-10-04 05:04:01.015900', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:04:01.019947', '2022-10-04 05:04:01.019947', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:04:01.019947', '2022-10-04 05:04:01.019947', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:04:01.022255', '2022-10-04 05:04:01.022255', DEFAULT), (298486374, '2022-10-04 05:04:01.022255', '2022-10-04 05:04:01.022255', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:04:01.023905', '2022-10-04 05:04:01.023905', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:04:01.023905', '2022-10-04 05:04:01.023905', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:04:01.025845', '2022-10-04 05:04:01.025845', DEFAULT), (298486374, 9.99, '2022-10-04 05:04:01.025845', '2022-10-04 05:04:01.025845', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:04:01 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:04:01 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:04:58.466885', '2022-10-04 05:04:58.466885', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:04:58.466885', '2022-10-04 05:04:58.466885', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:04:58.470655', '2022-10-04 05:04:58.470655', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:04:58.470655', '2022-10-04 05:04:58.470655', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:04:58.473349', '2022-10-04 05:04:58.473349', DEFAULT), (298486374, '2022-10-04 05:04:58.473349', '2022-10-04 05:04:58.473349', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:04:58.475203', '2022-10-04 05:04:58.475203', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:04:58.475203', '2022-10-04 05:04:58.475203', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:04:58.477302', '2022-10-04 05:04:58.477302', DEFAULT), (298486374, 9.99, '2022-10-04 05:04:58.477302', '2022-10-04 05:04:58.477302', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:04:58 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:04:58 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:05:12.134991', '2022-10-04 05:05:12.134991', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:05:12.134991', '2022-10-04 05:05:12.134991', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:05:12.138121', '2022-10-04 05:05:12.138121', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:05:12.138121', '2022-10-04 05:05:12.138121', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:05:12.140655', '2022-10-04 05:05:12.140655', DEFAULT), (298486374, '2022-10-04 05:05:12.140655', '2022-10-04 05:05:12.140655', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:05:12.142669', '2022-10-04 05:05:12.142669', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:05:12.142669', '2022-10-04 05:05:12.142669', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:05:12.145167', '2022-10-04 05:05:12.145167', DEFAULT), (298486374, 9.99, '2022-10-04 05:05:12.145167', '2022-10-04 05:05:12.145167', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:05:12 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:05:12 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:06:54.831606', '2022-10-04 05:06:54.831606', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:06:54.831606', '2022-10-04 05:06:54.831606', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:06:54.835855', '2022-10-04 05:06:54.835855', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:06:54.835855', '2022-10-04 05:06:54.835855', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:06:54.837882', '2022-10-04 05:06:54.837882', DEFAULT), (298486374, '2022-10-04 05:06:54.837882', '2022-10-04 05:06:54.837882', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:06:54.839561', '2022-10-04 05:06:54.839561', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:06:54.839561', '2022-10-04 05:06:54.839561', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:06:54.841521', '2022-10-04 05:06:54.841521', DEFAULT), (298486374, 9.99, '2022-10-04 05:06:54.841521', '2022-10-04 05:06:54.841521', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:06:54 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:06:54 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:07:05.517597', '2022-10-04 05:07:05.517597', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:07:05.517597', '2022-10-04 05:07:05.517597', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:07:05.521049', '2022-10-04 05:07:05.521049', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:07:05.521049', '2022-10-04 05:07:05.521049', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:07:05.523235', '2022-10-04 05:07:05.523235', DEFAULT), (298486374, '2022-10-04 05:07:05.523235', '2022-10-04 05:07:05.523235', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:07:05.524913', '2022-10-04 05:07:05.524913', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:07:05.524913', '2022-10-04 05:07:05.524913', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:07:05.526794', '2022-10-04 05:07:05.526794', DEFAULT), (298486374, 9.99, '2022-10-04 05:07:05.526794', '2022-10-04 05:07:05.526794', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:07:05 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:07:05 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:07:14.868816', '2022-10-04 05:07:14.868816', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:07:14.868816', '2022-10-04 05:07:14.868816', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:07:14.872374', '2022-10-04 05:07:14.872374', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:07:14.872374', '2022-10-04 05:07:14.872374', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:07:14.874306', '2022-10-04 05:07:14.874306', DEFAULT), (298486374, '2022-10-04 05:07:14.874306', '2022-10-04 05:07:14.874306', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:07:14.876033', '2022-10-04 05:07:14.876033', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:07:14.876033', '2022-10-04 05:07:14.876033', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:07:14.877939', '2022-10-04 05:07:14.877939', DEFAULT), (298486374, 9.99, '2022-10-04 05:07:14.877939', '2022-10-04 05:07:14.877939', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:07:14 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:07:15 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:07:53.821556', '2022-10-04 05:07:53.821556', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:07:53.821556', '2022-10-04 05:07:53.821556', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:07:53.824852', '2022-10-04 05:07:53.824852', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:07:53.824852', '2022-10-04 05:07:53.824852', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:07:53.826786', '2022-10-04 05:07:53.826786', DEFAULT), (298486374, '2022-10-04 05:07:53.826786', '2022-10-04 05:07:53.826786', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:07:53.828891', '2022-10-04 05:07:53.828891', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:07:53.828891', '2022-10-04 05:07:53.828891', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:07:53.831081', '2022-10-04 05:07:53.831081', DEFAULT), (298486374, 9.99, '2022-10-04 05:07:53.831081', '2022-10-04 05:07:53.831081', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:07:53 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:07:53 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:08:21.797121', '2022-10-04 05:08:21.797121', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:08:21.797121', '2022-10-04 05:08:21.797121', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:08:21.800348', '2022-10-04 05:08:21.800348', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:08:21.800348', '2022-10-04 05:08:21.800348', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:08:21.802539', '2022-10-04 05:08:21.802539', DEFAULT), (298486374, '2022-10-04 05:08:21.802539', '2022-10-04 05:08:21.802539', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:08:21.804190', '2022-10-04 05:08:21.804190', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:08:21.804190', '2022-10-04 05:08:21.804190', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:08:21.806125', '2022-10-04 05:08:21.806125', DEFAULT), (298486374, 9.99, '2022-10-04 05:08:21.806125', '2022-10-04 05:08:21.806125', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:08:21 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:08:21 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:09:00.262776', '2022-10-04 05:09:00.262776', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:09:00.262776', '2022-10-04 05:09:00.262776', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:09:00.265801', '2022-10-04 05:09:00.265801', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:09:00.265801', '2022-10-04 05:09:00.265801', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:09:00.268038', '2022-10-04 05:09:00.268038', DEFAULT), (298486374, '2022-10-04 05:09:00.268038', '2022-10-04 05:09:00.268038', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:09:00.269739', '2022-10-04 05:09:00.269739', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:09:00.269739', '2022-10-04 05:09:00.269739', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:09:00.271876', '2022-10-04 05:09:00.271876', DEFAULT), (298486374, 9.99, '2022-10-04 05:09:00.271876', '2022-10-04 05:09:00.271876', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:09:00 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:09:00 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:09:17.034452', '2022-10-04 05:09:17.034452', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:09:17.034452', '2022-10-04 05:09:17.034452', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:09:17.037871', '2022-10-04 05:09:17.037871', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:09:17.037871', '2022-10-04 05:09:17.037871', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:09:17.040149', '2022-10-04 05:09:17.040149', DEFAULT), (298486374, '2022-10-04 05:09:17.040149', '2022-10-04 05:09:17.040149', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:09:17.041782', '2022-10-04 05:09:17.041782', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:09:17.041782', '2022-10-04 05:09:17.041782', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:09:17.043798', '2022-10-04 05:09:17.043798', DEFAULT), (298486374, 9.99, '2022-10-04 05:09:17.043798', '2022-10-04 05:09:17.043798', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:09:17 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:09:17 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:09:48.977950', '2022-10-04 05:09:48.977950', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:09:48.977950', '2022-10-04 05:09:48.977950', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:09:48.982016', '2022-10-04 05:09:48.982016', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:09:48.982016', '2022-10-04 05:09:48.982016', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:09:48.984721', '2022-10-04 05:09:48.984721', DEFAULT), (298486374, '2022-10-04 05:09:48.984721', '2022-10-04 05:09:48.984721', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:09:48.986352', '2022-10-04 05:09:48.986352', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:09:48.986352', '2022-10-04 05:09:48.986352', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:09:48.988376', '2022-10-04 05:09:48.988376', DEFAULT), (298486374, 9.99, '2022-10-04 05:09:48.988376', '2022-10-04 05:09:48.988376', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:09:49 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:09:49 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:10:12.056278', '2022-10-04 05:10:12.056278', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:10:12.056278', '2022-10-04 05:10:12.056278', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:10:12.059799', '2022-10-04 05:10:12.059799', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:10:12.059799', '2022-10-04 05:10:12.059799', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:10:12.062175', '2022-10-04 05:10:12.062175', DEFAULT), (298486374, '2022-10-04 05:10:12.062175', '2022-10-04 05:10:12.062175', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:10:12.064069', '2022-10-04 05:10:12.064069', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:10:12.064069', '2022-10-04 05:10:12.064069', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:10:12.066688', '2022-10-04 05:10:12.066688', DEFAULT), (298486374, 9.99, '2022-10-04 05:10:12.066688', '2022-10-04 05:10:12.066688', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:10:12 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:10:12 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:10:51.905463', '2022-10-04 05:10:51.905463', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:10:51.905463', '2022-10-04 05:10:51.905463', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:10:51.911282', '2022-10-04 05:10:51.911282', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:10:51.911282', '2022-10-04 05:10:51.911282', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:10:51.914720', '2022-10-04 05:10:51.914720', DEFAULT), (298486374, '2022-10-04 05:10:51.914720', '2022-10-04 05:10:51.914720', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:10:51.917138', '2022-10-04 05:10:51.917138', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:10:51.917138', '2022-10-04 05:10:51.917138', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:10:51.919846', '2022-10-04 05:10:51.919846', DEFAULT), (298486374, 9.99, '2022-10-04 05:10:51.919846', '2022-10-04 05:10:51.919846', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:10:52 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:10:52 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:11:19.421451', '2022-10-04 05:11:19.421451', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:11:19.421451', '2022-10-04 05:11:19.421451', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:11:19.424618', '2022-10-04 05:11:19.424618', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:11:19.424618', '2022-10-04 05:11:19.424618', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:11:19.426464', '2022-10-04 05:11:19.426464', DEFAULT), (298486374, '2022-10-04 05:11:19.426464', '2022-10-04 05:11:19.426464', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:11:19.428160', '2022-10-04 05:11:19.428160', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:11:19.428160', '2022-10-04 05:11:19.428160', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:11:19.430320', '2022-10-04 05:11:19.430320', DEFAULT), (298486374, 9.99, '2022-10-04 05:11:19.430320', '2022-10-04 05:11:19.430320', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:11:19 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:11:19 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:14:00.073435', '2022-10-04 05:14:00.073435', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:14:00.073435', '2022-10-04 05:14:00.073435', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:14:00.077000', '2022-10-04 05:14:00.077000', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:14:00.077000', '2022-10-04 05:14:00.077000', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:14:00.079297', '2022-10-04 05:14:00.079297', DEFAULT), (298486374, '2022-10-04 05:14:00.079297', '2022-10-04 05:14:00.079297', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:14:00.081418', '2022-10-04 05:14:00.081418', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:14:00.081418', '2022-10-04 05:14:00.081418', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:14:00.083838', '2022-10-04 05:14:00.083838', DEFAULT), (298486374, 9.99, '2022-10-04 05:14:00.083838', '2022-10-04 05:14:00.083838', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:14:00 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:14:00 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:17:06.210306', '2022-10-04 05:17:06.210306', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:17:06.210306', '2022-10-04 05:17:06.210306', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:17:06.213470', '2022-10-04 05:17:06.213470', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:17:06.213470', '2022-10-04 05:17:06.213470', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:17:06.215267', '2022-10-04 05:17:06.215267', DEFAULT), (298486374, '2022-10-04 05:17:06.215267', '2022-10-04 05:17:06.215267', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:17:06.216980', '2022-10-04 05:17:06.216980', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:17:06.216980', '2022-10-04 05:17:06.216980', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:17:06.219007', '2022-10-04 05:17:06.219007', DEFAULT), (298486374, 9.99, '2022-10-04 05:17:06.219007', '2022-10-04 05:17:06.219007', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:17:06 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:17:06 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-04 05:17:17.519938', '2022-10-04 05:17:17.519938', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-04 05:17:17.519938', '2022-10-04 05:17:17.519938', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:17:17.523238', '2022-10-04 05:17:17.523238', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-04 05:17:17.523238', '2022-10-04 05:17:17.523238', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-04 05:17:17.525330', '2022-10-04 05:17:17.525330', DEFAULT), (298486374, '2022-10-04 05:17:17.525330', '2022-10-04 05:17:17.525330', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-04 05:17:17.527001', '2022-10-04 05:17:17.527001', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-04 05:17:17.527001', '2022-10-04 05:17:17.527001', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-04 05:17:17.529856', '2022-10-04 05:17:17.529856', DEFAULT), (298486374, 9.99, '2022-10-04 05:17:17.529856', '2022-10-04 05:17:17.529856', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-04 15:17:17 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-04 15:17:17 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:15:27.705928', '2022-10-09 23:15:27.705928', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:15:27.705928', '2022-10-09 23:15:27.705928', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:15:27.712825', '2022-10-09 23:15:27.712825', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:15:27.712825', '2022-10-09 23:15:27.712825', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:15:27.715271', '2022-10-09 23:15:27.715271', DEFAULT), (298486374, '2022-10-09 23:15:27.715271', '2022-10-09 23:15:27.715271', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:15:27.716775', '2022-10-09 23:15:27.716775', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:15:27.716775', '2022-10-09 23:15:27.716775', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:15:27.718790', '2022-10-09 23:15:27.718790', DEFAULT), (298486374, 9.99, '2022-10-09 23:15:27.718790', '2022-10-09 23:15:27.718790', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:15:27 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:15:27 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:15:38.472692', '2022-10-09 23:15:38.472692', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:15:38.472692', '2022-10-09 23:15:38.472692', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:15:38.476674', '2022-10-09 23:15:38.476674', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:15:38.476674', '2022-10-09 23:15:38.476674', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:15:38.478901', '2022-10-09 23:15:38.478901', DEFAULT), (298486374, '2022-10-09 23:15:38.478901', '2022-10-09 23:15:38.478901', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:15:38.480551', '2022-10-09 23:15:38.480551', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:15:38.480551', '2022-10-09 23:15:38.480551', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:15:38.482655', '2022-10-09 23:15:38.482655', DEFAULT), (298486374, 9.99, '2022-10-09 23:15:38.482655', '2022-10-09 23:15:38.482655', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:15:38 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:15:38 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:28:28.922846', '2022-10-09 23:28:28.922846', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:28:28.922846', '2022-10-09 23:28:28.922846', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:28:28.926966', '2022-10-09 23:28:28.926966', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:28:28.926966', '2022-10-09 23:28:28.926966', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:28:28.929349', '2022-10-09 23:28:28.929349', DEFAULT), (298486374, '2022-10-09 23:28:28.929349', '2022-10-09 23:28:28.929349', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:28:28.931495', '2022-10-09 23:28:28.931495', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:28:28.931495', '2022-10-09 23:28:28.931495', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:28:28.933706', '2022-10-09 23:28:28.933706', DEFAULT), (298486374, 9.99, '2022-10-09 23:28:28.933706', '2022-10-09 23:28:28.933706', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:28:29 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:28:29 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:28:44.462803', '2022-10-09 23:28:44.462803', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:28:44.462803', '2022-10-09 23:28:44.462803', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:28:44.465785', '2022-10-09 23:28:44.465785', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:28:44.465785', '2022-10-09 23:28:44.465785', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:28:44.468229', '2022-10-09 23:28:44.468229', DEFAULT), (298486374, '2022-10-09 23:28:44.468229', '2022-10-09 23:28:44.468229', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:28:44.470106', '2022-10-09 23:28:44.470106', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:28:44.470106', '2022-10-09 23:28:44.470106', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:28:44.472579', '2022-10-09 23:28:44.472579', DEFAULT), (298486374, 9.99, '2022-10-09 23:28:44.472579', '2022-10-09 23:28:44.472579', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:28:44 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:28:44 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:29:02.162289', '2022-10-09 23:29:02.162289', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:29:02.162289', '2022-10-09 23:29:02.162289', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:29:02.165371', '2022-10-09 23:29:02.165371', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:29:02.165371', '2022-10-09 23:29:02.165371', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:29:02.167266', '2022-10-09 23:29:02.167266', DEFAULT), (298486374, '2022-10-09 23:29:02.167266', '2022-10-09 23:29:02.167266', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:29:02.169179', '2022-10-09 23:29:02.169179', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:29:02.169179', '2022-10-09 23:29:02.169179', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:29:02.171412', '2022-10-09 23:29:02.171412', DEFAULT), (298486374, 9.99, '2022-10-09 23:29:02.171412', '2022-10-09 23:29:02.171412', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:29:02 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:29:02 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:29:24.629444', '2022-10-09 23:29:24.629444', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:29:24.629444', '2022-10-09 23:29:24.629444', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:29:24.632464', '2022-10-09 23:29:24.632464', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:29:24.632464', '2022-10-09 23:29:24.632464', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:29:24.634984', '2022-10-09 23:29:24.634984', DEFAULT), (298486374, '2022-10-09 23:29:24.634984', '2022-10-09 23:29:24.634984', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:29:24.636558', '2022-10-09 23:29:24.636558', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:29:24.636558', '2022-10-09 23:29:24.636558', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:29:24.638738', '2022-10-09 23:29:24.638738', DEFAULT), (298486374, 9.99, '2022-10-09 23:29:24.638738', '2022-10-09 23:29:24.638738', DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:29:24 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:29:24 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:29:49.927949', '2022-10-09 23:29:49.927949', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:29:49.927949', '2022-10-09 23:29:49.927949', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:29:49.931029', '2022-10-09 23:29:49.931029', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:29:49.931029', '2022-10-09 23:29:49.931029', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:29:49.933376', '2022-10-09 23:29:49.933376', DEFAULT), (298486374, '2022-10-09 23:29:49.933376', '2022-10-09 23:29:49.933376', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:29:49.934967', '2022-10-09 23:29:49.934967', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:29:49.934967', '2022-10-09 23:29:49.934967', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:29:49.937097', '2022-10-09 23:29:49.937097', DEFAULT), (298486374, 9.99, '2022-10-09 23:29:49.937097', '2022-10-09 23:29:49.937097', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:29:50 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:29:50 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:30:12.148722', '2022-10-09 23:30:12.148722', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:30:12.148722', '2022-10-09 23:30:12.148722', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:30:12.152068', '2022-10-09 23:30:12.152068', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:30:12.152068', '2022-10-09 23:30:12.152068', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:30:12.153967', '2022-10-09 23:30:12.153967', DEFAULT), (298486374, '2022-10-09 23:30:12.153967', '2022-10-09 23:30:12.153967', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:30:12.155915', '2022-10-09 23:30:12.155915', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:30:12.155915', '2022-10-09 23:30:12.155915', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:30:12.158084', '2022-10-09 23:30:12.158084', DEFAULT), (298486374, 9.99, '2022-10-09 23:30:12.158084', '2022-10-09 23:30:12.158084', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:30:12 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:30:12 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:30:25.146551', '2022-10-09 23:30:25.146551', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:30:25.146551', '2022-10-09 23:30:25.146551', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:30:25.149938', '2022-10-09 23:30:25.149938', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:30:25.149938', '2022-10-09 23:30:25.149938', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:30:25.151817', '2022-10-09 23:30:25.151817', DEFAULT), (298486374, '2022-10-09 23:30:25.151817', '2022-10-09 23:30:25.151817', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:30:25.153515', '2022-10-09 23:30:25.153515', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:30:25.153515', '2022-10-09 23:30:25.153515', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:30:25.157114', '2022-10-09 23:30:25.157114', DEFAULT), (298486374, 9.99, '2022-10-09 23:30:25.157114', '2022-10-09 23:30:25.157114', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:30:25 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:30:25 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:30:53.028353', '2022-10-09 23:30:53.028353', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:30:53.028353', '2022-10-09 23:30:53.028353', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:30:53.032222', '2022-10-09 23:30:53.032222', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:30:53.032222', '2022-10-09 23:30:53.032222', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:30:53.034547', '2022-10-09 23:30:53.034547', DEFAULT), (298486374, '2022-10-09 23:30:53.034547', '2022-10-09 23:30:53.034547', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:30:53.036508', '2022-10-09 23:30:53.036508', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:30:53.036508', '2022-10-09 23:30:53.036508', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:30:53.039093', '2022-10-09 23:30:53.039093', DEFAULT), (298486374, 9.99, '2022-10-09 23:30:53.039093', '2022-10-09 23:30:53.039093', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:30:53 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:30:53 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:32:44.272356', '2022-10-09 23:32:44.272356', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:32:44.272356', '2022-10-09 23:32:44.272356', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:32:44.275740', '2022-10-09 23:32:44.275740', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:32:44.275740', '2022-10-09 23:32:44.275740', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:32:44.277662', '2022-10-09 23:32:44.277662', DEFAULT), (298486374, '2022-10-09 23:32:44.277662', '2022-10-09 23:32:44.277662', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:32:44.279132', '2022-10-09 23:32:44.279132', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:32:44.279132', '2022-10-09 23:32:44.279132', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:32:44.280914', '2022-10-09 23:32:44.280914', DEFAULT), (298486374, 9.99, '2022-10-09 23:32:44.280914', '2022-10-09 23:32:44.280914', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:32:44 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:32:44 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:35:12.371626', '2022-10-09 23:35:12.371626', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:35:12.371626', '2022-10-09 23:35:12.371626', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:35:12.376795', '2022-10-09 23:35:12.376795', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:35:12.376795', '2022-10-09 23:35:12.376795', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:35:12.379664', '2022-10-09 23:35:12.379664', DEFAULT), (298486374, '2022-10-09 23:35:12.379664', '2022-10-09 23:35:12.379664', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:35:12.382388', '2022-10-09 23:35:12.382388', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:35:12.382388', '2022-10-09 23:35:12.382388', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:35:12.385255', '2022-10-09 23:35:12.385255', DEFAULT), (298486374, 9.99, '2022-10-09 23:35:12.385255', '2022-10-09 23:35:12.385255', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:35:12 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:35:12 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:35:34.387097', '2022-10-09 23:35:34.387097', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:35:34.387097', '2022-10-09 23:35:34.387097', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:35:34.390488', '2022-10-09 23:35:34.390488', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:35:34.390488', '2022-10-09 23:35:34.390488', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:35:34.392365', '2022-10-09 23:35:34.392365', DEFAULT), (298486374, '2022-10-09 23:35:34.392365', '2022-10-09 23:35:34.392365', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:35:34.393850', '2022-10-09 23:35:34.393850', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:35:34.393850', '2022-10-09 23:35:34.393850', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:35:34.395759', '2022-10-09 23:35:34.395759', DEFAULT), (298486374, 9.99, '2022-10-09 23:35:34.395759', '2022-10-09 23:35:34.395759', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:35:34 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:35:34 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:35:53.025077', '2022-10-09 23:35:53.025077', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:35:53.025077', '2022-10-09 23:35:53.025077', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:35:53.028411', '2022-10-09 23:35:53.028411', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:35:53.028411', '2022-10-09 23:35:53.028411', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:35:53.030392', '2022-10-09 23:35:53.030392', DEFAULT), (298486374, '2022-10-09 23:35:53.030392', '2022-10-09 23:35:53.030392', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:35:53.031983', '2022-10-09 23:35:53.031983', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:35:53.031983', '2022-10-09 23:35:53.031983', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:35:53.034185', '2022-10-09 23:35:53.034185', DEFAULT), (298486374, 9.99, '2022-10-09 23:35:53.034185', '2022-10-09 23:35:53.034185', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:35:53 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:35:53 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:37:15.483017', '2022-10-09 23:37:15.483017', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:37:15.483017', '2022-10-09 23:37:15.483017', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:37:15.486530', '2022-10-09 23:37:15.486530', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:37:15.486530', '2022-10-09 23:37:15.486530', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:37:15.488397', '2022-10-09 23:37:15.488397', DEFAULT), (298486374, '2022-10-09 23:37:15.488397', '2022-10-09 23:37:15.488397', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:37:15.489820', '2022-10-09 23:37:15.489820', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:37:15.489820', '2022-10-09 23:37:15.489820', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:37:15.491583', '2022-10-09 23:37:15.491583', DEFAULT), (298486374, 9.99, '2022-10-09 23:37:15.491583', '2022-10-09 23:37:15.491583', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:37:15 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:37:15 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:37:30.379517', '2022-10-09 23:37:30.379517', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:37:30.379517', '2022-10-09 23:37:30.379517', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:37:30.382768', '2022-10-09 23:37:30.382768', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:37:30.382768', '2022-10-09 23:37:30.382768', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:37:30.384669', '2022-10-09 23:37:30.384669', DEFAULT), (298486374, '2022-10-09 23:37:30.384669', '2022-10-09 23:37:30.384669', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:37:30.386110', '2022-10-09 23:37:30.386110', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:37:30.386110', '2022-10-09 23:37:30.386110', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:37:30.387854', '2022-10-09 23:37:30.387854', DEFAULT), (298486374, 9.99, '2022-10-09 23:37:30.387854', '2022-10-09 23:37:30.387854', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:37:30 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:37:30 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:38:00.553887', '2022-10-09 23:38:00.553887', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:38:00.553887', '2022-10-09 23:38:00.553887', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:38:00.557248', '2022-10-09 23:38:00.557248', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:38:00.557248', '2022-10-09 23:38:00.557248', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:38:00.559234', '2022-10-09 23:38:00.559234', DEFAULT), (298486374, '2022-10-09 23:38:00.559234', '2022-10-09 23:38:00.559234', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:38:00.560772', '2022-10-09 23:38:00.560772', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:38:00.560772', '2022-10-09 23:38:00.560772', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:38:00.562882', '2022-10-09 23:38:00.562882', DEFAULT), (298486374, 9.99, '2022-10-09 23:38:00.562882', '2022-10-09 23:38:00.562882', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:38:00 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:38:00 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:38:26.036902', '2022-10-09 23:38:26.036902', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:38:26.036902', '2022-10-09 23:38:26.036902', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:38:26.040993', '2022-10-09 23:38:26.040993', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:38:26.040993', '2022-10-09 23:38:26.040993', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:38:26.043383', '2022-10-09 23:38:26.043383', DEFAULT), (298486374, '2022-10-09 23:38:26.043383', '2022-10-09 23:38:26.043383', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:38:26.045062', '2022-10-09 23:38:26.045062', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:38:26.045062', '2022-10-09 23:38:26.045062', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:38:26.047182', '2022-10-09 23:38:26.047182', DEFAULT), (298486374, 9.99, '2022-10-09 23:38:26.047182', '2022-10-09 23:38:26.047182', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:38:26 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 2540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:38:26 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:38:50.629732', '2022-10-09 23:38:50.629732', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:38:50.629732', '2022-10-09 23:38:50.629732', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:38:50.633164', '2022-10-09 23:38:50.633164', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:38:50.633164', '2022-10-09 23:38:50.633164', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:38:50.635223', '2022-10-09 23:38:50.635223', DEFAULT), (298486374, '2022-10-09 23:38:50.635223', '2022-10-09 23:38:50.635223', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:38:50.637230', '2022-10-09 23:38:50.637230', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:38:50.637230', '2022-10-09 23:38:50.637230', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:38:50.639455', '2022-10-09 23:38:50.639455', DEFAULT), (298486374, 9.99, '2022-10-09 23:38:50.639455', '2022-10-09 23:38:50.639455', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:38:50 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:38:50 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:40:21.574881', '2022-10-09 23:40:21.574881', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:40:21.574881', '2022-10-09 23:40:21.574881', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:40:21.578186', '2022-10-09 23:40:21.578186', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:40:21.578186', '2022-10-09 23:40:21.578186', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:40:21.580438', '2022-10-09 23:40:21.580438', DEFAULT), (298486374, '2022-10-09 23:40:21.580438', '2022-10-09 23:40:21.580438', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:40:21.582537', '2022-10-09 23:40:21.582537', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:40:21.582537', '2022-10-09 23:40:21.582537', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:40:21.585028', '2022-10-09 23:40:21.585028', DEFAULT), (298486374, 9.99, '2022-10-09 23:40:21.585028', '2022-10-09 23:40:21.585028', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:40:21 +1000
Processing by CartController#show as HTML
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:40:21 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:40:44.949541', '2022-10-09 23:40:44.949541', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:40:44.949541', '2022-10-09 23:40:44.949541', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:40:44.952545', '2022-10-09 23:40:44.952545', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:40:44.952545', '2022-10-09 23:40:44.952545', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:40:44.954756', '2022-10-09 23:40:44.954756', DEFAULT), (298486374, '2022-10-09 23:40:44.954756', '2022-10-09 23:40:44.954756', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:40:44.956325', '2022-10-09 23:40:44.956325', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:40:44.956325', '2022-10-09 23:40:44.956325', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:40:44.958791', '2022-10-09 23:40:44.958791', DEFAULT), (298486374, 9.99, '2022-10-09 23:40:44.958791', '2022-10-09 23:40:44.958791', DEFAULT)[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:40:45 +1000
Processing by CartController#show as HTML
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:40:45 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3599)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:41:38.231559', '2022-10-09 23:41:38.231559', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:41:38.231559', '2022-10-09 23:41:38.231559', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:41:38.234811', '2022-10-09 23:41:38.234811', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:41:38.234811', '2022-10-09 23:41:38.234811', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:41:38.236650', '2022-10-09 23:41:38.236650', DEFAULT), (298486374, '2022-10-09 23:41:38.236650', '2022-10-09 23:41:38.236650', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:41:38.238119', '2022-10-09 23:41:38.238119', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:41:38.238119', '2022-10-09 23:41:38.238119', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:41:38.240505', '2022-10-09 23:41:38.240505', DEFAULT), (298486374, 9.99, '2022-10-09 23:41:38.240505', '2022-10-09 23:41:38.240505', DEFAULT)[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:41:38 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:41:38 +1000
Processing by CartController#show as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:41:47.507670', '2022-10-09 23:41:47.507670', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:41:47.507670', '2022-10-09 23:41:47.507670', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:41:47.510903', '2022-10-09 23:41:47.510903', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:41:47.510903', '2022-10-09 23:41:47.510903', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:41:47.512830', '2022-10-09 23:41:47.512830', DEFAULT), (298486374, '2022-10-09 23:41:47.512830', '2022-10-09 23:41:47.512830', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:41:47.514582', '2022-10-09 23:41:47.514582', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:41:47.514582', '2022-10-09 23:41:47.514582', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:41:47.516405', '2022-10-09 23:41:47.516405', DEFAULT), (298486374, 9.99, '2022-10-09 23:41:47.516405', '2022-10-09 23:41:47.516405', DEFAULT)[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:41:47 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:41:47 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "carts" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "order_items";
DELETE FROM "users";
DELETE FROM "carts";
DELETE FROM "addresses";
DELETE FROM "orders";
INSERT INTO "order_items" ("id", "quantity", "created_at", "updated_at", "total", "unit_price", "cart_id", "product_id") VALUES (980190962, 1, '2022-10-09 23:42:09.397334', '2022-10-09 23:42:09.397334', 9, 9, NULL, DEFAULT), (298486374, 1, '2022-10-09 23:42:09.397334', '2022-10-09 23:42:09.397334', 9, 9, NULL, DEFAULT);
INSERT INTO "users" ("id", "email", "password_digest", "first_name", "last_name", "created_at", "updated_at", "manager") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:42:09.400701', '2022-10-09 23:42:09.400701', DEFAULT), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2022-10-09 23:42:09.400701', '2022-10-09 23:42:09.400701', DEFAULT);
INSERT INTO "carts" ("id", "created_at", "updated_at", "user_id") VALUES (980190962, '2022-10-09 23:42:09.402757', '2022-10-09 23:42:09.402757', DEFAULT), (298486374, '2022-10-09 23:42:09.402757', '2022-10-09 23:42:09.402757', DEFAULT);
INSERT INTO "addresses" ("id", "city", "state", "zipcode", "created_at", "updated_at", "user_id", "street_address_1", "street_address_2") VALUES (980190962, 'MyString', 'MyString', 9.99, '2022-10-09 23:42:09.404539', '2022-10-09 23:42:09.404539', NULL, 'MyString', 'MyString'), (298486374, 'MyString', 'MyString', 9.99, '2022-10-09 23:42:09.404539', '2022-10-09 23:42:09.404539', NULL, 'MyString', 'MyString');
INSERT INTO "orders" ("id", "total", "created_at", "updated_at", "user_id") VALUES (980190962, 9.99, '2022-10-09 23:42:09.406430', '2022-10-09 23:42:09.406430', DEFAULT), (298486374, 9.99, '2022-10-09 23:42:09.406430', '2022-10-09 23:42:09.406430', DEFAULT)[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "carts" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ShopsControllerTest: test_should_get_index
------------------------------------------
Started GET "/shops" for 127.0.0.1 at 2022-10-10 09:42:09 +1000
Processing by ShopsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 5955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CartControllerTest: test_should_get_show
----------------------------------------
Started GET "/cart" for 127.0.0.1 at 2022-10-10 09:42:09 +1000
Processing by CartController#show as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_downcase_user_email_before_saving_
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_Should_not_save_User_without_Email
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_Should_have_a_method_#email_correct_that_downcase_the_email_user
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_Should_not_save_User_without_password_#has_secure_password_helper
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
